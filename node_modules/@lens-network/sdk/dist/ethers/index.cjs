'use strict';

var ethers = require('ethers');
var x = require('zksync-ethers');
var utils = require('ethers/utils');

function _interopNamespace(e) {
	if (e && e.__esModule) return e;
	var n = Object.create(null);
	if (e) {
		Object.keys(e).forEach(function (k) {
			if (k !== 'default') {
				var d = Object.getOwnPropertyDescriptor(e, k);
				Object.defineProperty(n, k, d.get ? d : {
					enumerable: true,
					get: function () { return e[k]; }
				});
			}
		});
	}
	n.default = e;
	return Object.freeze(n);
}

var x__namespace = /*#__PURE__*/_interopNamespace(x);

var W=Object.defineProperty;var M=(e,t)=>{for(var n in t)W(e,n,{get:t[n],enumerable:!0});};var a={id:37111,name:"Lens Testnet Network",network:"lens-testnet-network",rpcUrl:"https://rpc.testnet.lens.dev",blockExplorerUrl:"https://block-explorer.testnet.lens.dev/",testnet:!0,contracts:{multicall3:"0x8A44EDE8a6843a997bC0Cc4659e4dB1Da8f91116",erc20Factory:"0x44D3f533C370C9Ed8cfbe2d77b4440DC74959508",erc721Factory:"0x1299E25078d91f3aE5ff8A44DEbc7f25b2A1f314",WETH:"0xaA91D645D7a6C1aeaa5988e0547267B77d33fe16",WGRASS:"0x1CfDf7a1F0C2A4eAe5f3C3eA8e3eBd4f8F2fEe4A"}};var s=class e extends ethers.NetworkPlugin{contracts;constructor(t){super(e.name),this.contracts=t;}clone(){return new e(this.contracts)}static name="xyz.lens.network.contracts"};function v(e){ethers.assert(e?.name===s.name,`Network plugin ${s.name} not found`,"UNKNOWN_ERROR");}function q(e){return ()=>{let t=new ethers.Network(e.name,e.id);return t.attachPlugin(new s(e.contracts)),t}}[a].forEach(e=>ethers.Network.register(e.id,q(e)));function B(e){return class extends e{async sendRawTransactionWithDetailedOutput(n){return this.send("zks_sendRawTransactionWithDetailedOutput",[n])}static getDefaultProvider(n){throw new Error("Use 'getDefaultProvider' from '@lens-network/sdk/ethers' instead")}}}var c=class extends B(x__namespace.Provider){sendRawTransactionWithDetailedOutput(t){return super.sendRawTransactionWithDetailedOutput(t)}},E=class extends B(x__namespace.BrowserProvider){sendRawTransactionWithDetailedOutput(t){return super.sendRawTransactionWithDetailedOutput(t)}};var k=(n=>(n[n.Mainnet=NaN]="Mainnet",n[n.Testnet=a.id]="Testnet",n))(k||{});var R=class extends Error{name="InvariantError"};function A(e,t){throw new R(t)}function G(e){switch(e){case k.Testnet:return new c(a.rpcUrl);case NaN:A(!1,"Network supported yet");}}var D={};M(D,{testnet:()=>V});var _={name:"Grass Token",symbol:"GRASS",decimals:18};function j(e){return {chainId:utils.toBeHex(e.id),chainName:e.name,nativeCurrency:_,rpcUrls:[e.rpcUrl],blockExplorerUrls:[e.blockExplorerUrl]}}var V=j(a);var g={};M(g,{BasicErc20__factory:()=>l,BasicErc721__factory:()=>m,Erc20Factory__factory:()=>f,Erc721Factory__factory:()=>T});var h=[{inputs:[{components:[{internalType:"address",name:"initialOwner",type:"address"},{internalType:"uint256",name:"initialSupply",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],internalType:"struct BasicErc20.TokenParams",name:"params",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revision",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],l=class{static abi=h;static createInterface(){return new ethers.Interface(h)}static connect(t,n){return new ethers.Contract(t,h,n)}};var P=[{inputs:[{components:[{internalType:"address",name:"initialOwner",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],internalType:"struct BasicErc721.TokenParams",name:"params",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_toTokenId",type:"uint256"}],name:"BatchMetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"MetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revision",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],m=class{static abi=P;static createInterface(){return new ethers.Interface(P)}static connect(t,n){return new ethers.Contract(t,P,n)}};var C=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"uint256",name:"initialSupply",type:"uint256"}],name:"TokenCreated",type:"event"},{inputs:[{components:[{internalType:"address",name:"initialOwner",type:"address"},{internalType:"uint256",name:"initialSupply",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],internalType:"struct BasicErc20.TokenParams",name:"params",type:"tuple"}],name:"createToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getTokens",outputs:[{internalType:"contract BasicErc20[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"initialOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revision",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokens",outputs:[{internalType:"contract BasicErc20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],f=class{static abi=C;static createInterface(){return new ethers.Interface(C)}static connect(t,n){return new ethers.Contract(t,C,n)}};var O=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"uint256",name:"maxSupply",type:"uint256"}],name:"TokenCreated",type:"event"},{inputs:[{components:[{internalType:"address",name:"initialOwner",type:"address"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],internalType:"struct BasicErc721.TokenParams",name:"params",type:"tuple"}],name:"createToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getTokens",outputs:[{internalType:"contract BasicErc721[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"initialOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revision",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokens",outputs:[{internalType:"contract BasicErc721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],T=class{static abi=O;static createInterface(){return new ethers.Interface(O)}static connect(t,n){return new ethers.Contract(t,O,n)}};function H(e){return class extends e{async experimental_createErc20(n){let{chainId:o}=await this._providerL2().getNetwork(),r=ethers.Network.from(o)?.getPlugin(s.name);v(r);let p=g.Erc20Factory__factory.connect(r.contracts.erc20Factory,this._signerL2()),u=await(await p.createToken(n)).wait();ethers.assert(u!==null,"Transaction failed","NETWORK_ERROR");let y=u.logs.find(w=>w.address===r.contracts.erc20Factory);ethers.assert(y instanceof ethers.EventLog,"Event log not found","NETWORK_ERROR");let d=p.interface.parseLog(y);return ethers.assert(d?.name==="TokenCreated","Token not created","NETWORK_ERROR"),d.args.tokenAddress}async experimental_createErc721(n){let{chainId:o}=await this._providerL2().getNetwork(),r=ethers.Network.from(o)?.getPlugin(s.name);v(r);let p=g.Erc721Factory__factory.connect(r.contracts.erc721Factory,this._signerL2()),u=await(await p.createToken(n)).wait();ethers.assert(u!==null,"Transaction failed","NETWORK_ERROR");let y=u.logs.find(w=>w.address===r.contracts.erc721Factory);ethers.assert(y instanceof ethers.EventLog,"Event log not found","NETWORK_ERROR");let d=p.interface.parseLog(y);return ethers.assert(d?.name==="TokenCreated","Token not created","NETWORK_ERROR"),d.args.tokenAddress}}}var S=class extends H(x__namespace.Wallet){experimental_createErc20(t){return super.experimental_createErc20(t)}experimental_createErc721(t){return super.experimental_createErc721(t)}connect(t){return super.connect(t)}},L=class e extends H(x__namespace.Signer){experimental_createErc20(t){return super.experimental_createErc20(t)}experimental_createErc721(t){return super.experimental_createErc721(t)}static from(t,n,o){let r=super.from(t,n,o);return Object.setPrototypeOf(r,e.prototype)}};

exports.BrowserProvider = E;
exports.Network = k;
exports.Provider = c;
exports.Signer = L;
exports.Wallet = S;
exports.chains = D;
exports.getDefaultProvider = G;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.cjs.map