"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getBlock = getBlock;
const bitcoinjs_lib_1 = require("bitcoinjs-lib");
const viem_1 = require("viem");
async function getBlock(client, { blockHash, blockNumber }) {
    let blockHex;
    try {
        let _blockHash = blockHash;
        if (!_blockHash && blockNumber) {
            _blockHash = await client.request({
                method: 'getblockhash',
                params: [blockNumber],
            }, { dedupe: true });
        }
        if (_blockHash) {
            blockHex = await client.request({
                method: 'getblock',
                params: [_blockHash, 0],
            }, { dedupe: true });
        }
    }
    catch (_error) {
        throw new viem_1.BlockNotFoundError({ blockHash, blockNumber });
    }
    if (!blockHex) {
        throw new viem_1.BlockNotFoundError({ blockHash, blockNumber });
    }
    return bitcoinjs_lib_1.Block.fromHex(blockHex);
}
//# sourceMappingURL=getBlock.js.map