var gn=Object.defineProperty;var Mr=Object.getOwnPropertySymbols;var kn=Object.prototype.hasOwnProperty,Pn=Object.prototype.propertyIsEnumerable;var M=Math.pow,Or=(r,e,t)=>e in r?gn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,m=(r,e)=>{for(var t in e||(e={}))kn.call(e,t)&&Or(r,t,e[t]);if(Mr)for(var t of Mr(e))Pn.call(e,t)&&Or(r,t,e[t]);return r};var p=(r,e,t)=>new Promise((i,n)=>{var o=u=>{try{a(t.next(u))}catch(c){n(c)}},s=u=>{try{a(t.throw(u))}catch(c){n(c)}},a=u=>u.done?i(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(r,e)).next())});import{PublicKey as mn}from"@solana/web3.js";var g=new Map,k=new Map,ne=class extends Error{constructor(){super("Invalid market parameters error");this.code=0;this.name="InvalidMarketParameters";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ne)}};g.set(0,()=>new ne);k.set("InvalidMarketParameters",()=>new ne);var oe=class extends Error{constructor(){super("Invalid exchange authority error");this.code=1;this.name="InvalidMarketAuthority";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,oe)}};g.set(1,()=>new oe);k.set("InvalidMarketAuthority",()=>new oe);var se=class extends Error{constructor(){super("Market deserialization error");this.code=2;this.name="FailedToLoadMarketFromAccount";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,se)}};g.set(2,()=>new se);k.set("FailedToLoadMarketFromAccount",()=>new se);var ae=class extends Error{constructor(){super("Market already initialized error");this.code=3;this.name="MarketAlreadyInitialized";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ae)}};g.set(3,()=>new ae);k.set("MarketAlreadyInitialized",()=>new ae);var ue=class extends Error{constructor(){super("Market is not initialized error");this.code=4;this.name="MarketUninitialized";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ue)}};g.set(4,()=>new ue);k.set("MarketUninitialized",()=>new ue);var ce=class extends Error{constructor(){super("Invalid state transition error");this.code=5;this.name="InvalidStateTransition";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ce)}};g.set(5,()=>new ce);k.set("InvalidStateTransition",()=>new ce);var le=class extends Error{constructor(){super("Invalid market signer error");this.code=6;this.name="InvalidMarketSigner";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,le)}};g.set(6,()=>new le);k.set("InvalidMarketSigner",()=>new le);var be=class extends Error{constructor(){super("Invalid lot size error");this.code=7;this.name="InvalidLotSize";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,be)}};g.set(7,()=>new be);k.set("InvalidLotSize",()=>new be);var me=class extends Error{constructor(){super("Invalid tick size error");this.code=8;this.name="InvalidTickSize";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,me)}};g.set(8,()=>new me);k.set("InvalidTickSize",()=>new me);var de=class extends Error{constructor(){super("Invalid mint error");this.code=9;this.name="InvalidMint";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,de)}};g.set(9,()=>new de);k.set("InvalidMint",()=>new de);var pe=class extends Error{constructor(){super("Invalid base vault error");this.code=10;this.name="InvalidBaseVault";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,pe)}};g.set(10,()=>new pe);k.set("InvalidBaseVault",()=>new pe);var ye=class extends Error{constructor(){super("Invalid quote vault error");this.code=11;this.name="InvalidQuoteVault";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ye)}};g.set(11,()=>new ye);k.set("InvalidQuoteVault",()=>new ye);var fe=class extends Error{constructor(){super("Invalid base account error");this.code=12;this.name="InvalidBaseAccount";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,fe)}};g.set(12,()=>new fe);k.set("InvalidBaseAccount",()=>new fe);var ge=class extends Error{constructor(){super("Invalid quote account error");this.code=13;this.name="InvalidQuoteAccount";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ge)}};g.set(13,()=>new ge);k.set("InvalidQuoteAccount",()=>new ge);var ke=class extends Error{constructor(){super("Too many events error");this.code=14;this.name="TooManyEvents";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ke)}};g.set(14,()=>new ke);k.set("TooManyEvents",()=>new ke);var Pe=class extends Error{constructor(){super("New order error");this.code=15;this.name="NewOrderError";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Pe)}};g.set(15,()=>new Pe);k.set("NewOrderError",()=>new Pe);var he=class extends Error{constructor(){super("Reduce order error");this.code=16;this.name="ReduceOrderError";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,he)}};g.set(16,()=>new he);k.set("ReduceOrderError",()=>new he);var xe=class extends Error{constructor(){super("Cancel multiple orders error");this.code=17;this.name="CancelMultipleOrdersError";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,xe)}};g.set(17,()=>new xe);k.set("CancelMultipleOrdersError",()=>new xe);var we=class extends Error{constructor(){super("Withdraw funds error");this.code=18;this.name="WithdrawFundsError";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,we)}};g.set(18,()=>new we);k.set("WithdrawFundsError",()=>new we);var Se=class extends Error{constructor(){super("Remove empty orders error");this.code=19;this.name="RemoveEmptyOrdersError";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Se)}};g.set(19,()=>new Se);k.set("RemoveEmptyOrdersError",()=>new Se);var Ae=class extends Error{constructor(){super("Trader not found error");this.code=20;this.name="TraderNotFound";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ae)}};g.set(20,()=>new Ae);k.set("TraderNotFound",()=>new Ae);var Ie=class extends Error{constructor(){super("Invalid seat status");this.code=21;this.name="InvalidSeatStatus";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ie)}};g.set(21,()=>new Ie);k.set("InvalidSeatStatus",()=>new Ie);var Be=class extends Error{constructor(){super("Failed to evict trader");this.code=22;this.name="EvictionError";typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Be)}};g.set(22,()=>new Be);k.set("EvictionError",()=>new Be);function Wo(r){let e=g.get(r);return e!=null?e():null}function Eo(r){let e=k.get(r);return e!=null?e():null}import*as L from"@metaplex-foundation/beet";import*as tr from"@metaplex-foundation/beet-solana";var Fr=new L.BeetArgsStruct([["instruction",L.u8],["sequenceNumber",L.u64],["timestamp",L.i64],["slot",L.u64],["market",tr.publicKey],["signer",tr.publicKey],["totalEvents",L.u16]],"AuditLogHeader");import*as Ze from"@metaplex-foundation/beet";import*as We from"@metaplex-foundation/beet";import*as Lr from"@metaplex-foundation/beet";var je=(t=>(t[t.Bid=0]="Bid",t[t.Ask=1]="Ask",t))(je||{}),j=Lr.fixedScalarEnum(je);var Ge=new We.BeetArgsStruct([["side",j],["priceInTicks",We.u64],["orderSequenceNumber",We.u64]],"CancelOrderParams");var He=new Ze.FixableBeetArgsStruct([["orders",Ze.array(Ge)]],"CancelMultipleOrdersByIdParams");import*as W from"@metaplex-foundation/beet";var Je=new W.FixableBeetArgsStruct([["side",j],["tickLimit",W.coption(W.u64)],["numOrdersToSearch",W.coption(W.u32)],["numOrdersToCancel",W.coption(W.u32)]],"CancelUpToParams");import*as R from"@metaplex-foundation/beet";var rr=new R.FixableBeetArgsStruct([["priceInTicks",R.u64],["sizeInBaseLots",R.u64],["lastValidSlot",R.coption(R.u64)],["lastValidUnixTimestampInSeconds",R.coption(R.u64)]],"CondensedOrder");import*as Ee from"@metaplex-foundation/beet";var Wr=new Ee.BeetArgsStruct([["quoteLotsToDeposit",Ee.u64],["baseLotsToDeposit",Ee.u64]],"DepositParams");import*as G from"@metaplex-foundation/beet";import*as Er from"@metaplex-foundation/beet-solana";var Ur=new G.BeetArgsStruct([["index",G.u16],["makerId",Er.publicKey],["orderSequenceNumber",G.u64],["priceInTicks",G.u64],["baseLotsEvicted",G.u64]],"EvictEvent");import*as Z from"@metaplex-foundation/beet";import*as vr from"@metaplex-foundation/beet-solana";var Dr=new Z.BeetArgsStruct([["index",Z.u16],["makerId",vr.publicKey],["orderSequenceNumber",Z.u64],["priceInTicks",Z.u64],["baseLotsRemoved",Z.u64]],"ExpiredOrderEvent");import*as Te from"@metaplex-foundation/beet";var Rr=new Te.BeetArgsStruct([["index",Te.u16],["feesCollectedInQuoteLots",Te.u64]],"FeeEvent");import*as z from"@metaplex-foundation/beet";import*as Cr from"@metaplex-foundation/beet-solana";var qr=new z.BeetArgsStruct([["index",z.u16],["makerId",Cr.publicKey],["orderSequenceNumber",z.u64],["priceInTicks",z.u64],["baseLotsFilled",z.u64],["baseLotsRemaining",z.u64]],"FillEvent");import*as C from"@metaplex-foundation/beet";var zr=new C.BeetArgsStruct([["index",C.u16],["clientOrderId",C.u128],["totalBaseLotsFilled",C.u64],["totalQuoteLotsFilled",C.u64],["totalFeeInQuoteLots",C.u64]],"FillSummaryEvent");import*as O from"@metaplex-foundation/beet";import*as Vr from"@metaplex-foundation/beet-solana";import*as Ke from"@metaplex-foundation/beet";var Ye=new Ke.BeetArgsStruct([["bidsSize",Ke.u64],["asksSize",Ke.u64],["numSeats",Ke.u64]],"MarketSizeParams");var is=new O.FixableBeetArgsStruct([["marketSizeParams",Ye],["numQuoteLotsPerQuoteUnit",O.u64],["tickSizeInQuoteLotsPerBaseUnit",O.u64],["numBaseLotsPerBaseUnit",O.u64],["takerFeeBps",O.u16],["feeCollector",Vr.publicKey],["rawBaseUnitsPerBaseUnit",O.coption(O.u32)]],"InitializeParams");import*as B from"@metaplex-foundation/beet";import*as Xe from"@metaplex-foundation/beet-solana";import*as Ue from"@metaplex-foundation/beet";import*as ir from"@metaplex-foundation/beet-solana";var nr=new Ue.BeetArgsStruct([["decimals",Ue.u32],["vaultBump",Ue.u32],["mintKey",ir.publicKey],["vaultKey",ir.publicKey]],"TokenParams");var or=new B.BeetArgsStruct([["discriminant",B.u64],["status",B.u64],["marketSizeParams",Ye],["baseParams",nr],["baseLotSize",B.u64],["quoteParams",nr],["quoteLotSize",B.u64],["tickSizeInQuoteAtomsPerBaseUnit",B.u64],["authority",Xe.publicKey],["feeRecipient",Xe.publicKey],["marketSequenceNumber",B.u64],["successor",Xe.publicKey],["rawBaseUnitsPerBaseUnit",B.u32],["padding1",B.u32],["padding2",B.uniformFixedSizeArray(B.u64,32)]],"MarketHeader");import*as Nr from"@metaplex-foundation/beet";var Qr=(s=>(s[s.Uninitialized=0]="Uninitialized",s[s.Active=1]="Active",s[s.PostOnly=2]="PostOnly",s[s.Paused=3]="Paused",s[s.Closed=4]="Closed",s[s.Tombstoned=5]="Tombstoned",s))(Qr||{}),_r=Nr.fixedScalarEnum(Qr);import*as E from"@metaplex-foundation/beet";var $e=new E.FixableBeetArgsStruct([["bids",E.array(rr)],["asks",E.array(rr)],["clientOrderId",E.coption(E.u128)],["rejectPostOnly",E.bool]],"MultipleOrderPacket");import*as b from"@metaplex-foundation/beet";import*as jr from"@metaplex-foundation/beet";var et=(i=>(i[i.Abort=0]="Abort",i[i.CancelProvide=1]="CancelProvide",i[i.DecrementTake=2]="DecrementTake",i))(et||{}),sr=jr.fixedScalarEnum(et);var hs=r=>r.__kind==="PostOnly",xs=r=>r.__kind==="Limit",ws=r=>r.__kind==="ImmediateOrCancel",H=b.dataEnum([["PostOnly",new b.FixableBeetArgsStruct([["side",j],["priceInTicks",b.u64],["numBaseLots",b.u64],["clientOrderId",b.u128],["rejectPostOnly",b.bool],["useOnlyDepositedFunds",b.bool],["lastValidSlot",b.coption(b.u64)],["lastValidUnixTimestampInSeconds",b.coption(b.u64)]],'OrderPacketRecord["PostOnly"]')],["Limit",new b.FixableBeetArgsStruct([["side",j],["priceInTicks",b.u64],["numBaseLots",b.u64],["selfTradeBehavior",sr],["matchLimit",b.coption(b.u64)],["clientOrderId",b.u128],["useOnlyDepositedFunds",b.bool],["lastValidSlot",b.coption(b.u64)],["lastValidUnixTimestampInSeconds",b.coption(b.u64)]],'OrderPacketRecord["Limit"]')],["ImmediateOrCancel",new b.FixableBeetArgsStruct([["side",j],["priceInTicks",b.coption(b.u64)],["numBaseLots",b.u64],["numQuoteLots",b.u64],["minBaseLotsToFill",b.u64],["minQuoteLotsToFill",b.u64],["selfTradeBehavior",sr],["matchLimit",b.coption(b.u64)],["clientOrderId",b.u128],["useOnlyDepositedFunds",b.bool],["lastValidSlot",b.coption(b.u64)],["lastValidUnixTimestampInSeconds",b.coption(b.u64)]],'OrderPacketRecord["ImmediateOrCancel"]')]]);import*as P from"@metaplex-foundation/beet";import*as q from"@metaplex-foundation/beet";var Gr=new q.BeetArgsStruct([["index",q.u16],["orderSequenceNumber",q.u64],["clientOrderId",q.u128],["priceInTicks",q.u64],["baseLotsPlaced",q.u64]],"PlaceEvent");import*as V from"@metaplex-foundation/beet";var Zr=new V.BeetArgsStruct([["index",V.u16],["orderSequenceNumber",V.u64],["priceInTicks",V.u64],["baseLotsRemoved",V.u64],["baseLotsRemaining",V.u64]],"ReduceEvent");import*as J from"@metaplex-foundation/beet";var Hr=new J.BeetArgsStruct([["index",J.u16],["orderSequenceNumber",J.u64],["lastValidSlot",J.u64],["lastValidUnixTimestampInSeconds",J.u64]],"TimeInForceEvent");var _s=r=>r.__kind==="Uninitialized",js=r=>r.__kind==="Header",Gs=r=>r.__kind==="Fill",Zs=r=>r.__kind==="Place",Hs=r=>r.__kind==="Reduce",Js=r=>r.__kind==="Evict",Ys=r=>r.__kind==="FillSummary",Xs=r=>r.__kind==="Fee",$s=r=>r.__kind==="TimeInForce",ea=r=>r.__kind==="ExpiredOrder",Jr=P.dataEnum([["Uninitialized",P.unit],["Header",new P.BeetArgsStruct([["fields",P.fixedSizeTuple([Fr])]],'PhoenixMarketEventRecord["Header"]')],["Fill",new P.BeetArgsStruct([["fields",P.fixedSizeTuple([qr])]],'PhoenixMarketEventRecord["Fill"]')],["Place",new P.BeetArgsStruct([["fields",P.fixedSizeTuple([Gr])]],'PhoenixMarketEventRecord["Place"]')],["Reduce",new P.BeetArgsStruct([["fields",P.fixedSizeTuple([Zr])]],'PhoenixMarketEventRecord["Reduce"]')],["Evict",new P.BeetArgsStruct([["fields",P.fixedSizeTuple([Ur])]],'PhoenixMarketEventRecord["Evict"]')],["FillSummary",new P.BeetArgsStruct([["fields",P.fixedSizeTuple([zr])]],'PhoenixMarketEventRecord["FillSummary"]')],["Fee",new P.BeetArgsStruct([["fields",P.fixedSizeTuple([Rr])]],'PhoenixMarketEventRecord["Fee"]')],["TimeInForce",new P.BeetArgsStruct([["fields",P.fixedSizeTuple([Hr])]],'PhoenixMarketEventRecord["TimeInForce"]')],["ExpiredOrder",new P.BeetArgsStruct([["fields",P.fixedSizeTuple([Dr])]],'PhoenixMarketEventRecord["ExpiredOrder"]')]]);import*as tt from"@metaplex-foundation/beet";var rt=new tt.BeetArgsStruct([["baseParams",Ge],["size",tt.u64]],"ReduceOrderParams");import*as Y from"@metaplex-foundation/beet";import*as ar from"@metaplex-foundation/beet-solana";var oa=new Y.BeetArgsStruct([["discriminant",Y.u64],["market",ar.publicKey],["trader",ar.publicKey],["approvalStatus",Y.u64],["padding",Y.uniformFixedSizeArray(Y.u64,6)]],"Seat");import*as Yr from"@metaplex-foundation/beet";var Xr=(i=>(i[i.NotApproved=0]="NotApproved",i[i.Approved=1]="Approved",i[i.Retired=2]="Retired",i))(Xr||{}),aa=Yr.fixedScalarEnum(Xr);import*as X from"@metaplex-foundation/beet";var $r=new X.FixableBeetArgsStruct([["quoteLotsToWithdraw",X.coption(X.u64)],["baseLotsToWithdraw",X.coption(X.u64)]],"WithdrawParams");import ur from"bn.js";function y(r){let e;return typeof r=="number"?e=r:e=r.toNumber(),e}function T(r){return typeof r=="number"?new ur(r):r.clone()}function ve(r){return r.lt(new ur(0))?-1:r.gt(new ur(0))?1:0}import{ASSOCIATED_TOKEN_PROGRAM_ID as ki,createAssociatedTokenAccountIdempotentInstruction as Pi,createCloseAccountInstruction as hi,NATIVE_MINT as ft,TOKEN_PROGRAM_ID as xi}from"@solana/spl-token";import{PublicKey as On,Transaction as Fn}from"@solana/web3.js";import Ln from"bn.js";import*as w from"@metaplex-foundation/beet";import*as ei from"@metaplex-foundation/beet-solana";var cr=new w.BeetArgsStruct([["publicKey",ei.publicKey]],"PubkeyWrapper"),De=new w.BeetArgsStruct([["priceInTicks",w.u64],["orderSequenceNumber",w.u64]],"fIFOOrderId"),Re=new w.BeetArgsStruct([["traderIndex",w.u64],["numBaseLots",w.u64],["lastValidSlot",w.u64],["lastValidUnixTimestampInSeconds",w.u64]],"fIFORestingOrder"),it=new w.BeetArgsStruct([["quoteLotsLocked",w.u64],["quoteLotsFree",w.u64],["baseLotsLocked",w.u64],["baseLotsFree",w.u64],["padding",w.uniformFixedSizeArray(w.u64,8)]],"TraderState");import{createAssociatedTokenAccountInstruction as hn,getAssociatedTokenAddress as xn}from"@solana/spl-token";function lr(r,e,t,i){return p(this,null,function*(){let n=yield xn(i,e),o=yield r.getAccountInfo(n,"confirmed"),s=[];return(o===null||o.data.length==0)&&s.push(hn(t,n,e,i)),s})}import{ASSOCIATED_TOKEN_PROGRAM_ID as pr,TOKEN_PROGRAM_ID as di}from"@solana/spl-token";import{PublicKey as $}from"@solana/web3.js";import*as U from"@metaplex-foundation/beet";import*as Ce from"@metaplex-foundation/beet-solana";import{PublicKey as Bn}from"@solana/web3.js";import*as nt from"@metaplex-foundation/beet";import*as ti from"@solana/web3.js";var _a=new nt.BeetArgsStruct([["instructionDiscriminator",nt.u8]],"AddDesignatedMarketMakerInstructionArgs");import*as ot from"@metaplex-foundation/beet";import*as ri from"@solana/web3.js";var Ga=new ot.BeetArgsStruct([["instructionDiscriminator",ot.u8]],"ChangeMarketFeeRecipientInstructionArgs");import*as st from"@metaplex-foundation/beet";import*as ii from"@solana/web3.js";var Ya=new st.BeetArgsStruct([["instructionDiscriminator",st.u8],["marketStatus",_r]],"ChangeMarketStatusInstructionArgs");import*as at from"@metaplex-foundation/beet";import*as br from"@solana/web3.js";var eu=new at.BeetArgsStruct([["instructionDiscriminator",at.u8]],"ClaimMarketAuthorityInstructionArgs");import*as ut from"@metaplex-foundation/beet";import*as Me from"@solana/web3.js";var wn=new ut.BeetArgsStruct([["instructionDiscriminator",ut.u8]],"ClaimSeatInstructionArgs"),Sn=1;function ni(r,e=new Me.PublicKey("PSMxQbAoDWDbvd9ezQJgARyq6R9L5kJAasaLDVcZwf1")){var o;let[t]=wn.serialize({instructionDiscriminator:Sn}),i=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.seatManager,isWritable:!0,isSigner:!1},{pubkey:r.seatDepositCollector,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.payer,isWritable:!0,isSigner:!0},{pubkey:r.seat,isWritable:!0,isSigner:!1},{pubkey:(o=r.systemProgram)!=null?o:Me.SystemProgram.programId,isWritable:!1,isSigner:!1}];return new Me.TransactionInstruction({programId:e,keys:i,data:t})}import*as ct from"@metaplex-foundation/beet";import*as mr from"@solana/web3.js";var iu=new ct.BeetArgsStruct([["instructionDiscriminator",ct.u8]],"ClaimSeatAuthorizedInstructionArgs");import*as lt from"@metaplex-foundation/beet";import*as oi from"@solana/web3.js";var ou=new lt.BeetArgsStruct([["instructionDiscriminator",lt.u8]],"ClaimSeatManagerAuthorityInstructionArgs");import*as bt from"@metaplex-foundation/beet";import*as si from"@solana/web3.js";var au=new bt.BeetArgsStruct([["instructionDiscriminator",bt.u8]],"ConfirmRenounceSeatManagerAuthorityInstructionArgs");import*as ai from"@solana/spl-token";import*as mt from"@metaplex-foundation/beet";import*as Oe from"@solana/web3.js";var An=new mt.BeetArgsStruct([["instructionDiscriminator",mt.u8]],"EvictSeatInstructionArgs"),In=3;function ui(r,e=new Oe.PublicKey("PSMxQbAoDWDbvd9ezQJgARyq6R9L5kJAasaLDVcZwf1")){var o,s;let[t]=An.serialize({instructionDiscriminator:In}),i=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.seatManager,isWritable:!0,isSigner:!1},{pubkey:r.seatDepositCollector,isWritable:!0,isSigner:!1},{pubkey:r.baseMint,isWritable:!1,isSigner:!1},{pubkey:r.quoteMint,isWritable:!1,isSigner:!1},{pubkey:r.baseVault,isWritable:!0,isSigner:!1},{pubkey:r.quoteVault,isWritable:!0,isSigner:!1},{pubkey:r.associatedTokenAccountProgram,isWritable:!1,isSigner:!1},{pubkey:(o=r.tokenProgram)!=null?o:ai.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:(s=r.systemProgram)!=null?s:Oe.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:r.signer,isWritable:!1,isSigner:!0},{pubkey:r.trader,isWritable:!0,isSigner:!1},{pubkey:r.seat,isWritable:!1,isSigner:!1},{pubkey:r.baseAccount,isWritable:!0,isSigner:!1},{pubkey:r.quoteAccount,isWritable:!0,isSigner:!1},{pubkey:r.baseAccountBackup,isWritable:!0,isSigner:!1},{pubkey:r.quoteAccountBackup,isWritable:!0,isSigner:!1}];return new Oe.TransactionInstruction({programId:e,keys:i,data:t})}import*as ci from"@solana/web3.js";import*as li from"@metaplex-foundation/beet-solana";import*as dt from"@metaplex-foundation/beet";var lu=new dt.BeetArgsStruct([["instructionDiscriminator",dt.u8],["successor",li.publicKey]],"NameMarketAuthoritySuccessorInstructionArgs");import*as pt from"@metaplex-foundation/beet";import*as bi from"@solana/web3.js";var du=new pt.BeetArgsStruct([["instructionDiscriminator",pt.u8]],"NameSuccessorInstructionArgs");import*as yt from"@metaplex-foundation/beet";import*as mi from"@solana/web3.js";var yu=new yt.BeetArgsStruct([["instructionDiscriminator",yt.u8]],"RemoveDesignatedMarketMakerInstructionArgs");var Tn="PSMxQbAoDWDbvd9ezQJgARyq6R9L5kJAasaLDVcZwf1",dr=new Bn(Tn);function Kn(r){return Mn.deserialize(r,0)[0]}var Mn=new U.BeetArgsStruct([["market",Ce.publicKey],["authority",Ce.publicKey],["successor",Ce.publicKey],["numMakers",U.u64],["_headerPadding",U.uniformFixedSizeArray(U.u64,11)],["designatedMarketMaker",U.uniformFixedSizeArray(Ce.publicKey,128)],["_dmmPadding",U.uniformFixedSizeArray(U.u128,128)]],"SeatManagerData");function yr(r){return $.findProgramAddressSync([r.toBuffer()],dr)[0]}function pi(r){return $.findProgramAddressSync([r.toBuffer(),Buffer.from("deposit")],dr)[0]}function yi(r,e){let t=yr(r),i=pi(r),n=qe(r,e),o=x();return ni({phoenixProgram:f,logAuthority:o,market:r,seatManager:t,seatDepositCollector:i,trader:e,payer:e,seat:n})}function fi(r,e,t,i,n){let o=yr(r.address),s=pi(r.address),a=qe(r.address,e),u=x(),c=$.findProgramAddressSync([e.toBuffer(),di.toBuffer(),r.data.header.baseParams.mintKey.toBuffer()],pr)[0],l=$.findProgramAddressSync([e.toBuffer(),di.toBuffer(),r.data.header.quoteParams.mintKey.toBuffer()],pr)[0],d={phoenixProgram:f,logAuthority:u,market:r.address,seatManager:o,seatDepositCollector:s,baseMint:r.data.header.baseParams.mintKey,quoteMint:r.data.header.quoteParams.mintKey,baseVault:r.data.header.baseParams.vaultKey,quoteVault:r.data.header.quoteParams.vaultKey,associatedTokenAccountProgram:pr,signer:t,trader:e,seat:a,baseAccount:c,quoteAccount:l,baseAccountBackup:i!=null?i:$.default,quoteAccountBackup:n!=null?n:$.default};return ui(d)}function fr(r,e,t){return p(this,null,function*(){let i=e.getSeatAddress(t),n=[],o;try{o=yield r.getAccountInfo(i,"confirmed")}catch(s){o=null}if(o===null||o.data.length==0){let s=yield gi(r,e);s&&n.push(fi(e,s,t)),n.push(yi(e.address,t))}return n})}function qu(r,e,t){return p(this,null,function*(){let i=[],n=yield gi(r,e);return n&&i.push(fi(e,n,t)),i.push(yi(e.address,t)),i})}function gi(r,e){return p(this,null,function*(){let t=e.data.traders,i=yr(e.address),n=Kn((yield r.getAccountInfo(i,"confirmed")).data);if(t.size>=Number(e.data.header.marketSizeParams.numSeats)){for(let[o,s]of t)if(s.baseLotsLocked==0&&s.quoteLotsLocked==0){if(n.designatedMarketMaker.includes(new $(o)))continue;return new $(o)}}})}var ee=10,re=20,Si=2048,kr=.005;function qe(r,e){return On.findProgramAddressSync([Buffer.from("seat"),r.toBuffer(),e.toBuffer()],f)[0]}function Ve(r){let e=or.byteSize,[t]=or.deserialize(r.subarray(0,e)),i=8*32,n=r.subarray(e+i);e=0;let o=Number(n.readBigUInt64LE(e));e+=8;let s=Number(n.readBigUInt64LE(e));e+=8;let a=Number(n.readBigUInt64LE(e));e+=8;let u=Number(n.readBigUInt64LE(e));e+=8;let c=Number(n.readBigUInt64LE(e));e+=8;let l=Number(n.readBigUInt64LE(e));e+=8,n=n.subarray(e);let d=y(t.marketSizeParams.bidsSize),h=y(t.marketSizeParams.asksSize),S=y(t.marketSizeParams.numSeats),A=16+16+(16+De.byteSize+Re.byteSize)*d,K=16+16+(16+De.byteSize+Re.byteSize)*h,I=16+16+(16+32+it.byteSize)*S;e=0;let F=n.subarray(e,e+A);e+=A;let _e=n.subarray(e,e+K);e+=K;let Ir=n.subarray(e,e+I),dn=gr(F,De,Re),pn=gr(_e,De,Re),yn=[...dn].sort((v,D)=>{let Le=ve(T(D[0].priceInTicks).sub(T(v[0].priceInTicks)));return Le!==0?Le:ve(ze(v[0]).sub(ze(D[0])))}),fn=[...pn].sort((v,D)=>{let Le=ve(T(v[0].priceInTicks).sub(T(D[0].priceInTicks)));return Le!==0?Le:ve(ze(v[0]).sub(ze(D[0])))}),Br=new Map;for(let[v,D]of gr(Ir,cr,it))Br.set(v.publicKey.toString(),D);let Tr=new Map,Kr=new Map;for(let[v,D]of Wn(Ir,cr,it))Tr.set(v.publicKey.toString(),D),Kr.set(D,v.publicKey.toString());return{header:t,baseLotsPerBaseUnit:o,quoteLotsPerBaseUnitPerTick:s,sequenceNumber:a,takerFeeBps:u,collectedQuoteLotFees:c,unclaimedQuoteLotFees:l,bids:yn,asks:fn,traders:Br,traderPubkeyToTraderIndex:Tr,traderIndexToTraderPubkey:Kr}}function gr(r,e,t){let i=new Map,n=Ai(r,e,t),o=n[0],s=n[1];for(let[a,[u,c]]of o.entries())s.has(a)||i.set(u,c);return i}function Wn(r,e,t){let i=new Map,n=Ai(r,e,t),o=n[0],s=n[1];for(let[a,[u]]of o.entries())s.has(a)||i.set(u,a+1);return i}function ze(r){let e=r.orderSequenceNumber.fromTwos(64);return e.isNeg()?e.neg().sub(new Ln(1)):e}function En(r){let e=r.orderSequenceNumber;return r.side===0&&(e=e.add(T(1)).neg().toTwos(64)),e}function cc(r){return{side:r.side,orderSequenceNumber:En(r),priceInTicks:r.priceInTicks}}function Ai(r,e,t){let i=0,n=e.byteSize,o=t.byteSize,s=new Array;i+=16,i+=8;let a=r.readInt32LE(i);i+=4;let u=r.readInt32LE(i);i+=4;let c=new Array;for(let S=0;i<r.length&&S<a-1;S++){let A=new Array;for(let F=0;F<4;F++)A.push(r.readInt32LE(i)),i+=4;let[K]=e.deserialize(r.subarray(i,i+n));i+=n;let[I]=t.deserialize(r.subarray(i,i+o));i+=o,s.push([K,I]),c.push([S,A[0]])}let l=new Set,d=u-1,h=0;for(;u<a;)if([d,u]=c[u-1],l.add(d),h+=1,h>a)throw new Error("Infinite loop detected");return[s,l]}function lc(r,e,t,i=ee){return r.getLadder(e,t,i)}function bc(r,e,t){return r.levelToUiLevel(e,t)}function Pr(r,e=ee,t=0,i=0){return r.getUiLadder(e,t,i)}function Ii(r){let e=r.bids,t=r.asks,n=Math.max(...e.map(s=>s[1]),...t.map(s=>s[1])).toString().length,o=(s,a,u)=>{let c=s.toFixed(3),l=a.toFixed(2).padStart(n," ");console.log(c+`\x1B[3${u==="green"?2:1}m`+l+"\x1B[0m")};console.log("\x1B[30mAsks\x1B[0m");for(let{price:s,quantity:a}of t.reverse())o(s,a,"red");console.log("\x1B[30mBids\x1B[0m");for(let{price:s,quantity:a}of e)o(s,a,"green")}function gt(r,e,t,i=re){let n=[],o=[];for(let s of[1,0]){let a=s===1?r.asks:r.bids;for(let[u,c]of a){if(c.lastValidSlot!=0&&c.lastValidSlot<e||c.lastValidUnixTimestampInSeconds!=0&&c.lastValidUnixTimestampInSeconds<t)continue;let l=T(u.priceInTicks),d=T(c.numBaseLots),h={priceInTicks:l,sizeInBaseLots:d,side:s,makerPubkey:r.traderIndexToTraderPubkey.get(y(c.traderIndex)),orderSequenceNumber:ze(u),lastValidSlot:T(c.lastValidSlot),lastValidUnixTimestampInSeconds:T(c.lastValidUnixTimestampInSeconds)};if(s===1?o.push(h):n.push(h),s===1&&o.length===i||s===0&&n.length===i)break}}return{asks:o,bids:n}}function hr(r,e=re,t=0,i=0){let n=gt(r,t,i,e);return{bids:n.bids.map(o=>wi(o,r)),asks:n.asks.map(o=>wi(o,r))}}function wi(r,e){return{price:y(r.priceInTicks)*e.quoteLotsPerBaseUnitPerTick*y(e.header.quoteLotSize)/(M(10,e.header.quoteParams.decimals)*e.header.rawBaseUnitsPerBaseUnit),side:r.side,size:y(r.sizeInBaseLots)*e.header.rawBaseUnitsPerBaseUnit/e.baseLotsPerBaseUnit,makerPubkey:r.makerPubkey,orderSequenceNumber:r.orderSequenceNumber.toString(),lastValidSlot:y(r.lastValidSlot),lastValidUnixTimestampInSeconds:y(r.lastValidUnixTimestampInSeconds)}}function mc({market:r,trader:e,side:t,inAmount:i,slippage:n=kr,clientOrderId:o=0,idempotent:s=!1}){let a=r.data.header.quoteParams.mintKey,u=r.data.header.baseParams.mintKey,c=r.getBaseAccountKey(e),l=r.getQuoteAccountKey(e),d=new Fn;(u.equals(ft)||s)&&d.add(Pi(e,c,e,u,xi,ki)),(a.equals(ft)||s)&&d.add(Pi(e,l,e,a,xi,ki));let h=r.getSwapOrderPacket({side:t,inAmount:i,slippage:n,clientOrderId:o}),S=r.createSwapInstruction(h,e);return d.add(S),u.equals(ft)&&d.add(hi(c,e,e)),a.equals(ft)&&d.add(hi(l,e,e)),d}function xr({uiLadder:r,side:e,takerFeeBps:t,inAmount:i}){return e==0?Un({uiLadder:r,takerFeeBps:t,quoteUnitsIn:i}):vn({uiLadder:r,takerFeeBps:t,rawBaseUnitsIn:i})}function Bi({uiLadder:r,side:e,takerFeeBps:t,outAmount:i}){return e==0?Rn({uiLadder:r,takerFeeBps:t,rawBaseUnitsOut:i}):Dn({uiLadder:r,takerFeeBps:t,quoteUnitsOut:i})}function Un({uiLadder:r,takerFeeBps:e,quoteUnitsIn:t}){return Ti({sideOfBook:r.asks,quoteAmountBudget:t/(1+e/1e4)})}function vn({uiLadder:r,takerFeeBps:e,rawBaseUnitsIn:t}){return Ki({sideOfBook:r.bids,baseAmountBudget:t})*(1-e/1e4)}function Dn({uiLadder:r,takerFeeBps:e,quoteUnitsOut:t}){return Ti({sideOfBook:r.bids,quoteAmountBudget:t/(1-e/1e4)})}function Rn({uiLadder:r,takerFeeBps:e,rawBaseUnitsOut:t}){return Ki({sideOfBook:r.asks,baseAmountBudget:t})*(1+e/1e4)}function Ti({sideOfBook:r,quoteAmountBudget:e}){let t=e,i=0;for(let{price:n,quantity:o}of r)if(n*o>=t){i+=t/n,t=0;break}else i+=o,t-=n*o;return i}function Ki({sideOfBook:r,baseAmountBudget:e}){let t=e,i=0;for(let{price:n,quantity:o}of r)if(o>=t){i+=t*n,t=0;break}else i+=o*n,t-=o;return i}function Cn(r,e,t){return p(this,null,function*(){let i=yield lr(r,t,t,e.data.header.baseParams.mintKey),n=yield lr(r,t,t,e.data.header.quoteParams.mintKey),o=yield fr(r,e,t);return[...i,...n,...o]})}function dc(r,e,t,i){return p(this,null,function*(){let n=yield Cn(r,e,t);return n.push(e.createPlaceLimitOrderInstruction(i,t)),n})}function pc(r,e,t,i){return p(this,null,function*(){let n=[],o=yield fr(r,e,t);return n.push(...o),n.push(e.createPlaceLimitOrderInstruction(i,t)),n})}import*as N from"@metaplex-foundation/beet";function wr(r){return r.includes("dev")?"devnet":r.includes("local")||r.includes("127.0.0.1")?"localhost":"mainnet-beta"}function Ne(r){let[e]=qn.deserialize(r,0);return e}var qn=new N.BeetArgsStruct([["slot",N.u64],["epochStartTime",N.i64],["epoch",N.u64],["leaderScheduleEpoch",N.u64],["unixTimestamp",N.i64]],"ClockData");import*as Mi from"@solana/spl-token";import*as kt from"@metaplex-foundation/beet";import*as Pt from"@solana/web3.js";var zn=new kt.BeetArgsStruct([["instructionDiscriminator",kt.u8]],"CancelAllOrdersInstructionArgs"),Vn=6;function Oi(r,e=new Pt.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){var o;let[t]=zn.serialize({instructionDiscriminator:Vn}),i=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.baseAccount,isWritable:!0,isSigner:!1},{pubkey:r.quoteAccount,isWritable:!0,isSigner:!1},{pubkey:r.baseVault,isWritable:!0,isSigner:!1},{pubkey:r.quoteVault,isWritable:!0,isSigner:!1},{pubkey:(o=r.tokenProgram)!=null?o:Mi.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new Pt.TransactionInstruction({programId:e,keys:i,data:t})}import*as ht from"@metaplex-foundation/beet";import*as xt from"@solana/web3.js";var Nn=new ht.BeetArgsStruct([["instructionDiscriminator",ht.u8]],"CancelAllOrdersWithFreeFundsInstructionArgs"),Qn=7;function Fi(r,e=new xt.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){let[t]=Nn.serialize({instructionDiscriminator:Qn}),i=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0}];return new xt.TransactionInstruction({programId:e,keys:i,data:t})}import*as Li from"@solana/spl-token";import*as wt from"@metaplex-foundation/beet";import*as St from"@solana/web3.js";var _n=new wt.FixableBeetArgsStruct([["instructionDiscriminator",wt.u8],["params",He]],"CancelMultipleOrdersByIdInstructionArgs"),jn=10;function Wi(r,e,t=new St.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){var s;let[i]=_n.serialize(m({instructionDiscriminator:jn},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.baseAccount,isWritable:!0,isSigner:!1},{pubkey:r.quoteAccount,isWritable:!0,isSigner:!1},{pubkey:r.baseVault,isWritable:!0,isSigner:!1},{pubkey:r.quoteVault,isWritable:!0,isSigner:!1},{pubkey:(s=r.tokenProgram)!=null?s:Li.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new St.TransactionInstruction({programId:t,keys:n,data:i})}import*as At from"@metaplex-foundation/beet";import*as It from"@solana/web3.js";var Gn=new At.FixableBeetArgsStruct([["instructionDiscriminator",At.u8],["params",He]],"CancelMultipleOrdersByIdWithFreeFundsInstructionArgs"),Zn=11;function Ei(r,e,t=new It.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){let[i]=Gn.serialize(m({instructionDiscriminator:Zn},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0}];return new It.TransactionInstruction({programId:t,keys:n,data:i})}import*as Ui from"@solana/spl-token";import*as Bt from"@metaplex-foundation/beet";import*as Tt from"@solana/web3.js";var Hn=new Bt.FixableBeetArgsStruct([["instructionDiscriminator",Bt.u8],["params",Je]],"CancelUpToInstructionArgs"),Jn=8;function vi(r,e,t=new Tt.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){var s;let[i]=Hn.serialize(m({instructionDiscriminator:Jn},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.baseAccount,isWritable:!0,isSigner:!1},{pubkey:r.quoteAccount,isWritable:!0,isSigner:!1},{pubkey:r.baseVault,isWritable:!0,isSigner:!1},{pubkey:r.quoteVault,isWritable:!0,isSigner:!1},{pubkey:(s=r.tokenProgram)!=null?s:Ui.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new Tt.TransactionInstruction({programId:t,keys:n,data:i})}import*as Kt from"@metaplex-foundation/beet";import*as Mt from"@solana/web3.js";var Yn=new Kt.FixableBeetArgsStruct([["instructionDiscriminator",Kt.u8],["params",Je]],"CancelUpToWithFreeFundsInstructionArgs"),Xn=9;function Di(r,e,t=new Mt.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){let[i]=Yn.serialize(m({instructionDiscriminator:Xn},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0}];return new Mt.TransactionInstruction({programId:t,keys:n,data:i})}import*as Ri from"@solana/spl-token";import*as Ot from"@metaplex-foundation/beet";import*as Ft from"@solana/web3.js";var $n=new Ot.BeetArgsStruct([["instructionDiscriminator",Ot.u8],["depositFundsParams",Wr]],"DepositFundsInstructionArgs"),eo=13;function Ci(r,e,t=new Ft.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){var s;let[i]=$n.serialize(m({instructionDiscriminator:eo},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.seat,isWritable:!1,isSigner:!1},{pubkey:r.baseAccount,isWritable:!0,isSigner:!1},{pubkey:r.quoteAccount,isWritable:!0,isSigner:!1},{pubkey:r.baseVault,isWritable:!0,isSigner:!1},{pubkey:r.quoteVault,isWritable:!0,isSigner:!1},{pubkey:(s=r.tokenProgram)!=null?s:Ri.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new Ft.TransactionInstruction({programId:t,keys:n,data:i})}import*as Lt from"@metaplex-foundation/beet";import*as Wt from"@solana/web3.js";var to=new Lt.BeetArgsStruct([["instructionDiscriminator",Lt.u8]],"LogInstructionArgs"),Sr=15;function jc(r,e=new Wt.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){let[t]=to.serialize({instructionDiscriminator:Sr}),i=[{pubkey:r.logAuthority,isWritable:!1,isSigner:!0}];return new Wt.TransactionInstruction({programId:e,keys:i,data:t})}import*as qi from"@solana/spl-token";import*as Et from"@metaplex-foundation/beet";import*as Ut from"@solana/web3.js";var ro=new Et.FixableBeetArgsStruct([["instructionDiscriminator",Et.u8],["orderPacket",H]],"PlaceLimitOrderInstructionArgs"),io=2;function zi(r,e,t=new Ut.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){var s;let[i]=ro.serialize(m({instructionDiscriminator:io},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.seat,isWritable:!1,isSigner:!1},{pubkey:r.baseAccount,isWritable:!0,isSigner:!1},{pubkey:r.quoteAccount,isWritable:!0,isSigner:!1},{pubkey:r.baseVault,isWritable:!0,isSigner:!1},{pubkey:r.quoteVault,isWritable:!0,isSigner:!1},{pubkey:(s=r.tokenProgram)!=null?s:qi.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new Ut.TransactionInstruction({programId:t,keys:n,data:i})}import*as vt from"@metaplex-foundation/beet";import*as Dt from"@solana/web3.js";var no=new vt.FixableBeetArgsStruct([["instructionDiscriminator",vt.u8],["orderPacket",H]],"PlaceLimitOrderWithFreeFundsInstructionArgs"),oo=3;function Vi(r,e,t=new Dt.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){let[i]=no.serialize(m({instructionDiscriminator:oo},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.seat,isWritable:!1,isSigner:!1}];return new Dt.TransactionInstruction({programId:t,keys:n,data:i})}import*as Ni from"@solana/spl-token";import*as Rt from"@metaplex-foundation/beet";import*as Ct from"@solana/web3.js";var so=new Rt.FixableBeetArgsStruct([["instructionDiscriminator",Rt.u8],["multipleOrderPacket",$e]],"PlaceMultiplePostOnlyOrdersInstructionArgs"),ao=16;function Qi(r,e,t=new Ct.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){var s;let[i]=so.serialize(m({instructionDiscriminator:ao},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.seat,isWritable:!1,isSigner:!1},{pubkey:r.baseAccount,isWritable:!0,isSigner:!1},{pubkey:r.quoteAccount,isWritable:!0,isSigner:!1},{pubkey:r.baseVault,isWritable:!0,isSigner:!1},{pubkey:r.quoteVault,isWritable:!0,isSigner:!1},{pubkey:(s=r.tokenProgram)!=null?s:Ni.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new Ct.TransactionInstruction({programId:t,keys:n,data:i})}import*as qt from"@metaplex-foundation/beet";import*as zt from"@solana/web3.js";var uo=new qt.FixableBeetArgsStruct([["instructionDiscriminator",qt.u8],["multipleOrderPacket",$e]],"PlaceMultiplePostOnlyOrdersWithFreeFundsInstructionArgs"),co=17;function _i(r,e,t=new zt.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){let[i]=uo.serialize(m({instructionDiscriminator:co},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.seat,isWritable:!1,isSigner:!1}];return new zt.TransactionInstruction({programId:t,keys:n,data:i})}import*as ji from"@solana/spl-token";import*as Vt from"@metaplex-foundation/beet";import*as Nt from"@solana/web3.js";var lo=new Vt.BeetArgsStruct([["instructionDiscriminator",Vt.u8],["params",rt]],"ReduceOrderInstructionArgs"),bo=4;function Gi(r,e,t=new Nt.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){var s;let[i]=lo.serialize(m({instructionDiscriminator:bo},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.baseAccount,isWritable:!0,isSigner:!1},{pubkey:r.quoteAccount,isWritable:!0,isSigner:!1},{pubkey:r.baseVault,isWritable:!0,isSigner:!1},{pubkey:r.quoteVault,isWritable:!0,isSigner:!1},{pubkey:(s=r.tokenProgram)!=null?s:ji.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new Nt.TransactionInstruction({programId:t,keys:n,data:i})}import*as Qt from"@metaplex-foundation/beet";import*as _t from"@solana/web3.js";var mo=new Qt.BeetArgsStruct([["instructionDiscriminator",Qt.u8],["params",rt]],"ReduceOrderWithFreeFundsInstructionArgs"),po=5;function Zi(r,e,t=new _t.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){let[i]=mo.serialize(m({instructionDiscriminator:po},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!0,isSigner:!0}];return new _t.TransactionInstruction({programId:t,keys:n,data:i})}import*as jt from"@metaplex-foundation/beet";import*as Fe from"@solana/web3.js";var yo=new jt.BeetArgsStruct([["instructionDiscriminator",jt.u8]],"RequestSeatInstructionArgs"),fo=14;function Hi(r,e=new Fe.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){var o;let[t]=yo.serialize({instructionDiscriminator:fo}),i=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.payer,isWritable:!0,isSigner:!0},{pubkey:r.seat,isWritable:!0,isSigner:!1},{pubkey:(o=r.systemProgram)!=null?o:Fe.SystemProgram.programId,isWritable:!1,isSigner:!1}];return new Fe.TransactionInstruction({programId:e,keys:i,data:t})}import*as Ji from"@solana/spl-token";import*as Gt from"@metaplex-foundation/beet";import*as Zt from"@solana/web3.js";var go=new Gt.FixableBeetArgsStruct([["instructionDiscriminator",Gt.u8],["orderPacket",H]],"SwapInstructionArgs"),ko=0;function Yi(r,e,t=new Zt.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){var s;let[i]=go.serialize(m({instructionDiscriminator:ko},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.baseAccount,isWritable:!0,isSigner:!1},{pubkey:r.quoteAccount,isWritable:!0,isSigner:!1},{pubkey:r.baseVault,isWritable:!0,isSigner:!1},{pubkey:r.quoteVault,isWritable:!0,isSigner:!1},{pubkey:(s=r.tokenProgram)!=null?s:Ji.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new Zt.TransactionInstruction({programId:t,keys:n,data:i})}import*as Ht from"@metaplex-foundation/beet";import*as Jt from"@solana/web3.js";var Po=new Ht.FixableBeetArgsStruct([["instructionDiscriminator",Ht.u8],["orderPacket",H]],"SwapWithFreeFundsInstructionArgs"),ho=1;function Xi(r,e,t=new Jt.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){let[i]=Po.serialize(m({instructionDiscriminator:ho},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.seat,isWritable:!1,isSigner:!1}];return new Jt.TransactionInstruction({programId:t,keys:n,data:i})}import*as $i from"@solana/spl-token";import*as Yt from"@metaplex-foundation/beet";import*as Xt from"@solana/web3.js";var xo=new Yt.FixableBeetArgsStruct([["instructionDiscriminator",Yt.u8],["withdrawFundsParams",$r]],"WithdrawFundsInstructionArgs"),wo=12;function en(r,e,t=new Xt.PublicKey("PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY")){var s;let[i]=xo.serialize(m({instructionDiscriminator:wo},e)),n=[{pubkey:r.phoenixProgram,isWritable:!1,isSigner:!1},{pubkey:r.logAuthority,isWritable:!1,isSigner:!1},{pubkey:r.market,isWritable:!0,isSigner:!1},{pubkey:r.trader,isWritable:!1,isSigner:!0},{pubkey:r.baseAccount,isWritable:!0,isSigner:!1},{pubkey:r.quoteAccount,isWritable:!0,isSigner:!1},{pubkey:r.baseVault,isWritable:!0,isSigner:!1},{pubkey:r.quoteVault,isWritable:!0,isSigner:!1},{pubkey:(s=r.tokenProgram)!=null?s:$i.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new Xt.TransactionInstruction({programId:t,keys:n,data:i})}var Qe=class{constructor({name:e,symbol:t,logoUri:i,data:n}){this.name=e,this.symbol=t,this.logoUri=i,this.data=n}};import{PublicKey as So}from"@solana/web3.js";import{BinaryReader as Ao}from"borsh";import Io from"bs58";import*as $t from"@metaplex-foundation/beet";var Bo=new $t.FixableBeetArgsStruct([["events",$t.array(Jr)]],"PhoenixEvents");function To(r){let e=Buffer.from(r),[t]=Bo.deserialize(e,0);return t.events}function tn(r){return new So(r.readFixedArray(32))}function Ko(r){let e=new Ao(Buffer.from(r));if(e.readU8()!=1)throw new Error("early Unexpected event");let i={instruction:e.readU8(),sequenceNumber:e.readU64(),timestamp:e.readU64(),slot:e.readU64(),market:tn(e),signer:tn(e),totalEvents:e.readU16()},n=new ArrayBuffer(4);new DataView(n).setUint16(0,i.totalEvents,!0);let s=To(Buffer.concat([Buffer.from(n),Buffer.from(r.slice(e.offset))]));return{header:i,events:s}}function rn(r){var o;let e=r==null?void 0:r.meta;if(e===void 0)return{instructions:[],txReceived:!1,txFailed:!0};if((e==null?void 0:e.err)!==null)return{instructions:[],txReceived:!0,txFailed:!0};let t=(o=r==null?void 0:r.meta)==null?void 0:o.innerInstructions;if(!t||!r||!r.slot)return{instructions:[],txReceived:!0,txFailed:!0};let i=[];for(let s of t)for(let a of s.instructions){if(a.programId.toBase58()!=f.toBase58())continue;let u=Io.decode(a.data);u[0]==Sr&&i.push(u.slice(1))}let n=new Array;for(let s of i)n.push(Ko(s));return{instructions:n,signature:r.transaction.signatures[0],txReceived:!0,txFailed:!1}}function cb(r,e){return p(this,null,function*(){let t=yield r.getParsedTransaction(e,{commitment:"confirmed",maxSupportedTransactionVersion:1});return rn(t)})}function lb(r,e){return p(this,null,function*(){let t=yield r.getParsedTransaction(e,{commitment:"confirmed",maxSupportedTransactionVersion:1});return rn(t)})}import{getAssociatedTokenAddressSync as nn}from"@solana/spl-token";var Q=class{constructor({name:e,address:t,baseToken:i,quoteToken:n,data:o}){this.address=t,this.data=o,this.name=e,this.baseToken=i,this.quoteToken=n}static load({address:e,buffer:t,tokenList:i}){let n=Ve(t),o=i.find(A=>A.mint===n.header.baseParams.mintKey.toBase58()),s=i.find(A=>A.mint===n.header.quoteParams.mintKey.toBase58()),a=n.header.baseParams.mintKey.toBase58(),u=a.slice(0,8)+"..."+a.slice(-8),c=n.header.baseParams.mintKey.toBase58(),l=c.slice(0,8)+"..."+c.slice(-8),d=new Qe({name:o!==void 0?o.name:u,symbol:o!==void 0?o.symbol:a,logoUri:o!==void 0?o.logoUri:"Unknown",data:m({},n.header.baseParams)}),h=new Qe({name:s!==void 0?s.name:l,symbol:s!==void 0?s.symbol:c,logoUri:s!==void 0?s.logoUri:"Unknown",data:m({},n.header.quoteParams)});return new Q({name:`${d.symbol}/${h.symbol}`,address:e,baseToken:d,quoteToken:h,data:n})}static loadFromAddress(n){return p(this,arguments,function*({connection:e,address:t,tokenList:i}){let o=yield e.getAccountInfo(t,"confirmed").then(s=>s==null?void 0:s.data);return i?Q.load({address:t,buffer:o,tokenList:i}):new Q({address:t,data:Ve(o)})})}reload(e){let t=Ve(e);return this.data=t,this}reloadFromNetwork(e){return p(this,null,function*(){let t=Ve(yield e.getAccountInfo(this.address,"confirmed").then(i=>i==null?void 0:i.data));this.data=t})}getBaseAccountKey(e){return nn(this.data.header.baseParams.mintKey,e,!0)}getQuoteAccountKey(e){return nn(this.data.header.quoteParams.mintKey,e,!0)}getQuoteVaultKey(){return this.data.header.quoteParams.vaultKey}getBaseVaultKey(){return this.data.header.baseParams.vaultKey}getSeatAddress(e){return qe(this.address,e)}getUiLadder(e=ee,t=0,i=0){let n=this.getLadder(t,i,e);return{bids:n.bids.map(({priceInTicks:o,sizeInBaseLots:s})=>this.levelToUiLevel(y(o),y(s))),asks:n.asks.map(({priceInTicks:o,sizeInBaseLots:s})=>this.levelToUiLevel(y(o),y(s)))}}getLadder(e,t,i=ee){let n=[],o=[];for(let[s,a]of this.data.bids){if(a.lastValidSlot!=0&&a.lastValidSlot<e||a.lastValidUnixTimestampInSeconds!=0&&a.lastValidUnixTimestampInSeconds<t)continue;let u=T(s.priceInTicks),c=T(a.numBaseLots);if(n.length===0)n.push({priceInTicks:u,sizeInBaseLots:c});else{let l=n[n.length-1];if(!l)throw Error;if(u.eq(l.priceInTicks))l.sizeInBaseLots=l.sizeInBaseLots.add(c);else{if(n.length===i)break;n.push({priceInTicks:u,sizeInBaseLots:c})}}}for(let[s,a]of this.data.asks){if(a.lastValidSlot!=0&&a.lastValidSlot<e||a.lastValidUnixTimestampInSeconds!=0&&a.lastValidUnixTimestampInSeconds<t)continue;let u=T(s.priceInTicks),c=T(a.numBaseLots);if(o.length===0)o.push({priceInTicks:u,sizeInBaseLots:c});else{let l=o[o.length-1];if(!l)throw Error;if(u.eq(l.priceInTicks))l.sizeInBaseLots=l.sizeInBaseLots.add(c);else{if(o.length===i)break;o.push({priceInTicks:u,sizeInBaseLots:c})}}}return{asks:o,bids:n}}levelToUiLevel(e,t){return{price:this.ticksToFloatPrice(e),quantity:this.baseLotsToRawBaseUnits(t)}}getExpectedOutAmount({side:e,inAmount:t,slot:i,unixTimestamp:n}){let o=y(this.data.header.marketSizeParams.bidsSize),s=y(this.data.header.marketSizeParams.asksSize),a=this.getUiLadder(Math.max(o,s),i,n);return xr({uiLadder:a,side:e,takerFeeBps:this.data.takerFeeBps,inAmount:t})}getRequiredInAmount({side:e,outAmount:t,slot:i,unixTimestamp:n}){let o=y(this.data.header.marketSizeParams.bidsSize),s=y(this.data.header.marketSizeParams.asksSize),a=Pr(this,Math.max(o,s),i,n);return Bi({uiLadder:a,side:e,takerFeeBps:this.data.takerFeeBps,outAmount:t})}getPriceDecimalPlaces(){let e=Math.floor(Math.pow(10,this.data.header.quoteParams.decimals)*this.data.header.rawBaseUnitsPerBaseUnit/y(this.data.header.tickSizeInQuoteAtomsPerBaseUnit));if(e===0)return 0;let t=0;for(;e%2===0;)e/=2,t+=1;let i=0;for(;e%5===0;)e/=5,i+=1;let n=Math.max(t,i);return n===0?3:n}floatPriceToTicks(e){return Math.round(e*this.data.header.rawBaseUnitsPerBaseUnit*M(10,this.data.header.quoteParams.decimals)/(this.data.quoteLotsPerBaseUnitPerTick*y(this.data.header.quoteLotSize)))}ticksToFloatPrice(e){return e*this.data.quoteLotsPerBaseUnitPerTick*y(this.data.header.quoteLotSize)/(M(10,this.data.header.quoteParams.decimals)*this.data.header.rawBaseUnitsPerBaseUnit)}rawBaseUnitsToBaseLotsRoundedDown(e){let t=e/this.data.header.rawBaseUnitsPerBaseUnit;return Math.floor(t*this.data.baseLotsPerBaseUnit)}rawBaseUnitsToBaseLotsRoundedUp(e){let t=e/this.data.header.rawBaseUnitsPerBaseUnit;return Math.ceil(t*this.data.baseLotsPerBaseUnit)}baseAtomsToBaseLots(e){return Math.round(e/y(this.data.header.baseLotSize))}baseLotsToBaseAtoms(e){return e*y(this.data.header.baseLotSize)}baseLotsToRawBaseUnits(e){return this.baseAtomsToRawBaseUnits(this.baseLotsToBaseAtoms(e))}quoteUnitsToQuoteLots(e){return Math.round(e*M(10,this.data.header.quoteParams.decimals)/y(this.data.header.quoteLotSize))}quoteAtomsToQuoteLots(e){return Math.round(e/y(this.data.header.quoteLotSize))}quoteLotsToQuoteAtoms(e){return e*y(this.data.header.quoteLotSize)}quoteLotsToQuoteUnits(e){return this.quoteAtomsToQuoteUnits(this.quoteLotsToQuoteAtoms(e))}baseAtomsToRawBaseUnits(e){return e/M(10,this.data.header.baseParams.decimals)}quoteAtomsToQuoteUnits(e){return e/M(10,this.data.header.quoteParams.decimals)}createCancelAllOrdersInstruction(e){let t=this.address;return Oi({phoenixProgram:f,logAuthority:x(),market:t,trader:e,baseAccount:this.getBaseAccountKey(e),quoteAccount:this.getQuoteAccountKey(e),baseVault:this.getBaseVaultKey(),quoteVault:this.getQuoteVaultKey()})}createCancelAllOrdersWithFreeFundsInstruction(e){return Fi({phoenixProgram:f,logAuthority:x(),market:this.address,trader:e})}createCancelMultipleOrdersByIdInstruction(e,t){return Wi({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t,baseAccount:this.getBaseAccountKey(t),quoteAccount:this.getQuoteAccountKey(t),baseVault:this.getBaseVaultKey(),quoteVault:this.getQuoteVaultKey()},e)}createCancelMultipleOrdersByIdWithFreeFundsInstruction(e,t){return Ei({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t},e)}createCancelUpToInstruction(e,t){return vi({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t,baseAccount:this.getBaseAccountKey(t),quoteAccount:this.getQuoteAccountKey(t),baseVault:this.getBaseVaultKey(),quoteVault:this.getQuoteVaultKey()},e)}createCancelUpToWithFreeFundsInstruction(e,t){return Di({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t},e)}createDepositFundsInstruction(e,t){return Ci({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t,seat:this.getSeatAddress(t),baseAccount:this.getBaseAccountKey(t),quoteAccount:this.getQuoteAccountKey(t),baseVault:this.getBaseVaultKey(),quoteVault:this.getQuoteVaultKey()},e)}createPlaceLimitOrderInstruction(e,t){return zi({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t,seat:this.getSeatAddress(t),baseAccount:this.getBaseAccountKey(t),quoteAccount:this.getQuoteAccountKey(t),baseVault:this.getBaseVaultKey(),quoteVault:this.getQuoteVaultKey()},{orderPacket:e})}createPlaceLimitOrderWithFreeFundsInstruction(e,t){return Vi({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t,seat:this.getSeatAddress(t)},{orderPacket:e})}createPlaceMultiplePostOnlyOrdersInstruction(e,t){return Qi({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t,seat:this.getSeatAddress(t),baseAccount:this.getBaseAccountKey(t),quoteAccount:this.getQuoteAccountKey(t),baseVault:this.getBaseVaultKey(),quoteVault:this.getQuoteVaultKey()},e)}createPlaceMultiplePostOnlyOrdersInstructionWithFreeFunds(e,t){return _i({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t,seat:this.getSeatAddress(t)},e)}createReduceOrderInstruction(e,t){return Gi({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t,baseAccount:this.getBaseAccountKey(t),quoteAccount:this.getQuoteAccountKey(t),baseVault:this.getBaseVaultKey(),quoteVault:this.getQuoteVaultKey()},e)}createReduceOrderWithFreeFundsInstruction(e,t){return Zi({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t},e)}createRequestSeatInstruction(e,t){return Hi({phoenixProgram:f,logAuthority:x(),market:this.address,payer:e,seat:this.getSeatAddress(t)})}createSwapInstruction(e,t){return Yi({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t,baseAccount:this.getBaseAccountKey(t),quoteAccount:this.getQuoteAccountKey(t),baseVault:this.getBaseVaultKey(),quoteVault:this.getQuoteVaultKey()},{orderPacket:e})}createSwapWithFreeFundsInstruction(e,t){return Xi({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t,seat:this.getSeatAddress(t)},{orderPacket:e})}createWithdrawFundsInstruction(e,t){return en({phoenixProgram:f,logAuthority:x(),market:this.address,trader:t,baseAccount:this.getBaseAccountKey(t),quoteAccount:this.getQuoteAccountKey(t),baseVault:this.getBaseVaultKey(),quoteVault:this.getQuoteVaultKey()},e)}getSwapOrderPacket({side:e,inAmount:t,slippage:i=kr,selfTradeBehavior:n=0,matchLimit:o=Si,clientOrderId:s=0,useOnlyDepositedFunds:a=!1,lastValidSlot:u=null,lastValidUnixTimestampInSeconds:c=null}){let l=Pr(this,Number.MAX_SAFE_INTEGER),d=xr({uiLadder:l,takerFeeBps:this.data.takerFeeBps,side:e,inAmount:t}),h=M(10,this.data.header.baseParams.decimals),S=M(10,this.data.header.quoteParams.decimals),A=1-i,K=0,I=0,F=0,_e=0;return e===1?(K=t*h/parseFloat(this.data.header.baseLotSize.toString()),_e=Math.ceil(d*S/parseFloat(this.data.header.quoteLotSize.toString())*A)):(F=t*S/parseFloat(this.data.header.quoteLotSize.toString()),I=Math.ceil(d*h/parseFloat(this.data.header.baseLotSize.toString())*A)),Ar({side:e,numBaseLots:K,numQuoteLots:F,minBaseLotsToFill:I,minQuoteLotsToFill:_e,selfTradeBehavior:n,matchLimit:o,clientOrderId:s,useOnlyDepositedFunds:a,lastValidSlot:u,lastValidUnixTimestampInSeconds:c})}getLimitOrderInstructionfromTemplate(e,t){let i=this.floatPriceToTicks(t.priceAsFloat),n=this.rawBaseUnitsToBaseLotsRoundedDown(t.sizeInBaseUnits),o=sn({side:t.side,priceInTicks:i,numBaseLots:n,selfTradeBehavior:t.selfTradeBehavior,matchLimit:t.matchLimit,clientOrderId:t.clientOrderId,useOnlyDepositedFunds:t.useOnlyDepositedFunds,lastValidSlot:t.lastValidSlot,lastValidUnixTimestampInSeconds:t.lastValidUnixTimestampInSeconds});return this.createPlaceLimitOrderInstruction(o,e)}getPostOnlyOrderInstructionfromTemplate(e,t){let i=this.floatPriceToTicks(t.priceAsFloat),n=this.rawBaseUnitsToBaseLotsRoundedDown(t.sizeInBaseUnits),o=on({side:t.side,priceInTicks:i,numBaseLots:n,clientOrderId:t.clientOrderId,rejectPostOnly:t.rejectPostOnly,useOnlyDepositedFunds:t.useOnlyDepositedFunds,lastValidSlot:t.lastValidSlot,lastValidUnixTimestampInSeconds:t.lastValidUnixTimestampInSeconds});return this.createPlaceLimitOrderInstruction(o,e)}getImmediateOrCancelOrderInstructionfromTemplate(e,t){let i=this.floatPriceToTicks(t.priceAsFloat),n=this.rawBaseUnitsToBaseLotsRoundedDown(t.sizeInBaseUnits),o=this.quoteUnitsToQuoteLots(t.sizeInQuoteUnits),s=this.rawBaseUnitsToBaseLotsRoundedDown(t.minBaseUnitsToFill),a=this.quoteUnitsToQuoteLots(t.minQuoteUnitsToFill),u=Ar({side:t.side,priceInTicks:i,numBaseLots:n,numQuoteLots:o,minBaseLotsToFill:s,minQuoteLotsToFill:a,selfTradeBehavior:t.selfTradeBehavior,matchLimit:t.matchLimit,clientOrderId:t.clientOrderId,useOnlyDepositedFunds:t.useOnlyDepositedFunds,lastValidSlot:t.lastValidSlot,lastValidUnixTimestampInSeconds:t.lastValidUnixTimestampInSeconds});return this.createSwapInstruction(u,e)}};import{TOKEN_PROGRAM_ID as an,AccountLayout as Mo}from"@solana/spl-token";import{PublicKey as Oo}from"@solana/web3.js";var te=class{constructor(e){this.pubkey=e,this.tokenBalances={}}static create(n){return p(this,arguments,function*({connection:e,pubkey:t,tokens:i}){let o=new te(t);for(let s of i){let a=yield e.getTokenAccountsByOwner(t,{programId:an,mint:s.data.mintKey});if(a.value.length===0)continue;let u=a.value[0];o.tokenBalances[s.data.mintKey.toBase58()]=un(u.account.data,s.data.decimals)}return o})}refresh(e){return p(this,null,function*(){return yield Promise.all(Object.keys(this.tokenBalances).map(t=>p(this,null,function*(){let n=(yield e.getTokenAccountsByOwner(this.pubkey,{programId:an,mint:new Oo(t)})).value[0];this.tokenBalances[t]=un(n.account.data,this.tokenBalances[t].decimals)}))),this})}};function un(r,e){let i=Mo.decode(r).amount.toString();return{amount:i,decimals:e,uiAmount:parseInt(i)/M(10,e)}}import{PublicKey as er,SYSVAR_CLOCK_PUBKEY as ie}from"@solana/web3.js";var _=class{constructor({connection:e,tokens:t,tokenConfig:i,markets:n,clock:o,trader:s}){this.connection=e,this.tokens=t,this.tokenConfig=i,this.markets=n,this.clock=o,s&&(this.trader=s)}static loadMarketsAndTokens(e,t){let i=[],n=new Map;return e.map(([o,s])=>{let a=Q.load({address:o,buffer:s.data,tokenList:t});n.set(o.toString(),a);for(let u of[a.baseToken,a.quoteToken]){let c=u.data.mintKey.toBase58();i.find(l=>l.data.mintKey.toBase58()===c)||i.push(u)}}),[n,i]}static create(e,t,i){return p(this,null,function*(){var K;let n=wr(t),s=yield fetch("https://raw.githubusercontent.com/Ellipsis-Labs/phoenix-sdk/master/master_config.json").then(I=>I.json()),a=s[n].markets.map(I=>new er(I.market)),u=s[n].tokens,c=yield e.getMultipleAccountsInfo([...a,ie],"confirmed"),l=(K=c.pop())==null?void 0:K.data;if(l===void 0)throw new Error("Unable to get clock");let d=Ne(l),h=a.map((I,F)=>[I,c[F]]),[S,A]=_.loadMarketsAndTokens(h,u);return new _({connection:e,tokens:A,markets:S,tokenConfig:u,trader:i?yield te.create({connection:e,pubkey:i,tokens:A}):void 0,clock:d})})}static createWithoutConfig(e,t,i){return p(this,null,function*(){var l;let n=yield e.getMultipleAccountsInfo([...t,ie],"confirmed"),o=(l=n.pop())==null?void 0:l.data;if(o===void 0)throw new Error("Unable to get clock");let s=Ne(o);if(n.length!==t.length)throw Error("Unable to get all market accounts");let a=t.map((d,h)=>[d,n[h]]),[u,c]=_.loadMarketsAndTokens(a,[]);return new _({connection:e,tokens:c,markets:u,tokenConfig:[],trader:i?yield te.create({connection:e,pubkey:i,tokens:c}):void 0,clock:s})})}static createWithMarketAddresses(e,t,i,n){return p(this,null,function*(){var K;let o=wr(t),u=(yield fetch("https://raw.githubusercontent.com/Ellipsis-Labs/phoenix-sdk/master/master_config.json").then(I=>I.json()))[o].tokens,c=yield e.getMultipleAccountsInfo([...i,ie],"confirmed"),l=(K=c.pop())==null?void 0:K.data;if(l===void 0)throw new Error("Unable to get clock");let d=Ne(l),h=i.map((I,F)=>[I,c[F]]),[S,A]=_.loadMarketsAndTokens(h,u);return new _({connection:e,tokens:A,markets:S,tokenConfig:u,trader:n?yield te.create({connection:e,pubkey:n,tokens:A}):void 0,clock:d})})}addMarket(e,t=!1){return p(this,null,function*(){var c,l;if(this.markets.get(e)!==void 0){t?yield this.refreshMarket(e):console.log("Market already exists: ",e);return}let n=new er(e),o=yield this.connection.getMultipleAccountsInfo([n,ie],"confirmed");if(o.length!==2)throw new Error("Account not found for market: "+n.toBase58());let s=(c=o[0])==null?void 0:c.data;if(s===void 0)throw new Error("Unable to get market account data");let a=yield Q.load({address:n,buffer:s,tokenList:this.tokenConfig});for(let d of[a.baseToken,a.quoteToken]){let h=d.data.mintKey.toBase58();this.tokens.find(S=>S.data.mintKey.toBase58()===h)||this.tokens.push(d)}this.markets.set(e,a);let u=(l=o[1])==null?void 0:l.data;if(u===void 0)throw new Error("Unable to get clock");this.reloadClockFromBuffer(u)})}refreshAllMarkets(){return p(this,null,function*(){var n,o;let e=Array.from(this.markets.keys()).map(s=>new er(s)),t=yield this.connection.getMultipleAccountsInfo([...e,ie],"confirmed"),i=(n=t.pop())==null?void 0:n.data;if(i===void 0)throw new Error("Unable to get clock");this.reloadClockFromBuffer(i);for(let[s,a]of e.entries()){let u=this.markets.get(a.toString());if(u===void 0)throw new Error("Market does not exist: "+a.toBase58());let c=(o=t[s])==null?void 0:o.data;if(c===void 0)throw new Error("Unable to get market account data");u.reload(c)}})}refreshMarket(e){return p(this,null,function*(){var a,u;let t=new er(e),i=this.markets.get(t.toString());if(i===void 0)throw new Error("Market does not exist: "+t.toBase58());let n=yield this.connection.getMultipleAccountsInfo([t,ie],"confirmed");if(n.length!==2)throw new Error("Account not found for market: "+t.toBase58());let o=(a=n[0])==null?void 0:a.data;if(o===void 0)throw new Error("Unable to get market account data");i.reload(o);let s=(u=n[1])==null?void 0:u.data;if(s===void 0)throw new Error("Unable to get clock");return this.reloadClockFromBuffer(s),i})}reloadClock(){return p(this,null,function*(){let e=yield this.connection.getAccountInfo(ie,"confirmed"),t=e==null?void 0:e.data;if(t===void 0)throw new Error("Unable to get clock");this.reloadClockFromBuffer(t)})}reloadClockFromBuffer(e){this.clock=Ne(e)}getLadder(e,t=ee){let i=this.markets.get(e);if(!i)throw new Error("Market not found: "+e);return i.getLadder(this.clock.slot,this.clock.unixTimestamp,t)}getUiLadder(e,t=ee){let i=this.markets.get(e);if(!i)throw new Error("Market not found: "+e);return i.getUiLadder(t,this.clock.slot,this.clock.unixTimestamp)}getL3Book(e,t=re){let i=this.markets.get(e);if(!i)throw new Error("Market not found: "+e);return gt(i.data,this.clock.slot,this.clock.unixTimestamp,t)}getL3BookWithParams(e,t,i,n=re){let o=this.markets.get(e);if(!o)throw new Error("Market not found: "+e);return gt(o.data,t,i,n)}getL3UiBook(e,t=re){let i=this.markets.get(e);if(!i)throw new Error("Market not found: "+e);return hr(i.data,t,this.clock.slot,this.clock.unixTimestamp)}getL3UiBookWithParams(e,t,i,n=re){let o=this.markets.get(e);if(!o)throw new Error("Market not found: "+e);return hr(o.data,n,t,i)}printLadder(e){Ii(this.getUiLadder(e))}getMarketExpectedOutAmount({marketAddress:e,side:t,inAmount:i}){let n=this.markets.get(e);if(!n)throw new Error("Market not found: "+e);return n.getExpectedOutAmount({side:t,inAmount:i,slot:this.clock.slot,unixTimestamp:this.clock.unixTimestamp})}getBaseAccountKey(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.getBaseAccountKey(e)}getQuoteAccountKey(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.getQuoteAccountKey(e)}getQuoteVaultKey(e){let t=this.markets.get(e);if(!t)throw new Error("Market not found: "+e);return t.getQuoteVaultKey()}getBaseVaultKey(e){let t=this.markets.get(e);if(!t)throw new Error("Market not found: "+e);return t.getBaseVaultKey()}getSeatKey(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.getSeatAddress(e)}floatPriceToTicks(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.floatPriceToTicks(e)}ticksToFloatPrice(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.ticksToFloatPrice(e)}rawBaseUnitsToBaseLotsRoundedDown(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.rawBaseUnitsToBaseLotsRoundedDown(e)}rawBaseUnitsToBaseLotsRoundedUp(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.rawBaseUnitsToBaseLotsRoundedUp(e)}baseAtomsToBaseLots(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.baseAtomsToBaseLots(e)}baseLotsToBaseAtoms(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.baseLotsToBaseAtoms(e)}quoteUnitsToQuoteLots(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.quoteUnitsToQuoteLots(e)}quoteAtomsToQuoteLots(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.quoteAtomsToQuoteLots(e)}quoteLotsToQuoteAtoms(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.quoteLotsToQuoteAtoms(e)}baseAtomsToRawBaseUnits(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.baseAtomsToRawBaseUnits(e)}quoteAtomsToQuoteUnits(e,t){let i=this.markets.get(t);if(!i)throw new Error("Market not found: "+t);return i.quoteAtomsToQuoteUnits(e)}createCancelAllOrdersInstruction(e,t){t||(t=this.trader.pubkey);let i=this.markets.get(e);if(!i)throw new Error("Market not found: "+e);return i.createCancelAllOrdersInstruction(t)}createCancelAllOrdersWithFreeFundsInstruction(e,t){t||(t=this.trader.pubkey);let i=this.markets.get(e);if(!i)throw new Error("Market not found: "+e);return i.createCancelAllOrdersWithFreeFundsInstruction(t)}createCancelMultipleOrdersByIdInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createCancelMultipleOrdersByIdInstruction(e,i)}createCancelMultipleOrdersByIdWithFreeFundsInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createCancelMultipleOrdersByIdWithFreeFundsInstruction(e,i)}createCancelUpToInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createCancelUpToInstruction(e,i)}createCancelUpToWithFreeFundsInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createCancelUpToWithFreeFundsInstruction(e,i)}createDepositFundsInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createDepositFundsInstruction(e,i)}createPlaceLimitOrderInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createPlaceLimitOrderInstruction(e,i)}createPlaceLimitOrderWithFreeFundsInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createPlaceLimitOrderWithFreeFundsInstruction(e,i)}createPlaceMultiplePostOnlyOrdersInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createPlaceMultiplePostOnlyOrdersInstruction(e,i)}createPlaceMultiplePostOnlyOrdersInstructionWithFreeFunds(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createPlaceMultiplePostOnlyOrdersInstructionWithFreeFunds(e,i)}createReduceOrderInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createReduceOrderInstruction(e,i)}createReduceOrderWithFreeFundsInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createReduceOrderWithFreeFundsInstruction(e,i)}createRequestSeatInstruction(e,t,i){t||(t=this.trader.pubkey),i||(i=t);let n=this.markets.get(e);if(!n)throw new Error("Market not found: "+e);return n.createRequestSeatInstruction(t,i)}createSwapInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createSwapInstruction(e,i)}createSwapWithFreeFundsInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createSwapWithFreeFundsInstruction(e,i)}createWithdrawFundsInstruction(e,t,i){i||(i=this.trader.pubkey);let n=this.markets.get(t);if(!n)throw new Error("Market not found: "+t);return n.createWithdrawFundsInstruction(e,i)}getLimitOrderInstructionfromTemplate(e,t,i){let n=this.markets.get(e);if(!n)throw new Error("Market not found: "+e);return n.getLimitOrderInstructionfromTemplate(t,i)}getPostOnlyOrderInstructionfromTemplate(e,t,i){let n=this.markets.get(e);if(!n)throw new Error("Market not found: "+e);return n.getPostOnlyOrderInstructionfromTemplate(t,i)}getImmediateOrCancelOrderIxfromTemplate(e,t,i){let n=this.markets.get(e);if(!n)throw new Error("Market not found: "+e);return n.getImmediateOrCancelOrderInstructionfromTemplate(t,i)}};var cn=class{},ln=class{},bn=class{};function on({side:r,priceInTicks:e,numBaseLots:t,rejectPostOnly:i=!0,clientOrderId:n=0,useOnlyDepositedFunds:o=!1,lastValidSlot:s,lastValidUnixTimestampInSeconds:a}){return{__kind:"PostOnly",side:r,priceInTicks:e,numBaseLots:t,clientOrderId:n!=null?n:0,rejectPostOnly:i!=null?i:!0,useOnlyDepositedFunds:o!=null?o:!1,lastValidSlot:s,lastValidUnixTimestampInSeconds:a}}function sn({side:r,priceInTicks:e=null,numBaseLots:t,selfTradeBehavior:i=1,matchLimit:n,clientOrderId:o=0,useOnlyDepositedFunds:s=!1,lastValidSlot:a,lastValidUnixTimestampInSeconds:u}){return{__kind:"Limit",side:r,priceInTicks:e,numBaseLots:t,selfTradeBehavior:i!=null?i:1,matchLimit:n,clientOrderId:o!=null?o:0,useOnlyDepositedFunds:s!=null?s:!1,lastValidSlot:a,lastValidUnixTimestampInSeconds:u}}function Ar({side:r,priceInTicks:e=null,numBaseLots:t,numQuoteLots:i,minBaseLotsToFill:n=0,minQuoteLotsToFill:o=0,selfTradeBehavior:s=1,matchLimit:a,clientOrderId:u=0,useOnlyDepositedFunds:c=!1,lastValidSlot:l,lastValidUnixTimestampInSeconds:d}){return{__kind:"ImmediateOrCancel",side:r,priceInTicks:e,numBaseLots:t,numQuoteLots:i,minBaseLotsToFill:n,minQuoteLotsToFill:o,selfTradeBehavior:s,matchLimit:a,clientOrderId:u,useOnlyDepositedFunds:c,lastValidSlot:l,lastValidUnixTimestampInSeconds:d}}var Fo="PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY",f=new mn(Fo);function x(){return mn.findProgramAddressSync([Buffer.from("log")],f)[0]}export{zn as CancelAllOrdersStruct,Nn as CancelAllOrdersWithFreeFundsStruct,_n as CancelMultipleOrdersByIdStruct,Gn as CancelMultipleOrdersByIdWithFreeFundsStruct,xe as CancelMultipleOrdersErrorError,Hn as CancelUpToStruct,Yn as CancelUpToWithFreeFundsStruct,_ as Client,ee as DEFAULT_L2_LADDER_DEPTH,re as DEFAULT_L3_BOOK_DEPTH,Si as DEFAULT_MATCH_LIMIT,kr as DEFAULT_SLIPPAGE_PERCENT,$n as DepositFundsStruct,Be as EvictionErrorError,se as FailedToLoadMarketFromAccountError,bn as ImmediateOrCancelOrderTemplate,fe as InvalidBaseAccountError,pe as InvalidBaseVaultError,be as InvalidLotSizeError,oe as InvalidMarketAuthorityError,ne as InvalidMarketParametersError,le as InvalidMarketSignerError,de as InvalidMintError,ge as InvalidQuoteAccountError,ye as InvalidQuoteVaultError,Ie as InvalidSeatStatusError,ce as InvalidStateTransitionError,me as InvalidTickSizeError,ln as LimitOrderTemplate,to as LogStruct,Q as Market,ae as MarketAlreadyInitializedError,Qr as MarketStatus,ue as MarketUninitializedError,Pe as NewOrderErrorError,Fo as PROGRAM_ADDRESS,f as PROGRAM_ID,ro as PlaceLimitOrderStruct,no as PlaceLimitOrderWithFreeFundsStruct,so as PlaceMultiplePostOnlyOrdersStruct,uo as PlaceMultiplePostOnlyOrdersWithFreeFundsStruct,cn as PostOnlyOrderTemplate,he as ReduceOrderErrorError,lo as ReduceOrderStruct,mo as ReduceOrderWithFreeFundsStruct,Se as RemoveEmptyOrdersErrorError,yo as RequestSeatStruct,Xr as SeatApprovalStatus,et as SelfTradeBehavior,je as Side,go as SwapStruct,Po as SwapWithFreeFundsStruct,Qe as Token,ke as TooManyEventsError,te as Trader,Ae as TraderNotFoundError,we as WithdrawFundsErrorError,xo as WithdrawFundsStruct,Fr as auditLogHeaderBeet,Vn as cancelAllOrdersInstructionDiscriminator,Qn as cancelAllOrdersWithFreeFundsInstructionDiscriminator,jn as cancelMultipleOrdersByIdInstructionDiscriminator,He as cancelMultipleOrdersByIdParamsBeet,Zn as cancelMultipleOrdersByIdWithFreeFundsInstructionDiscriminator,Ge as cancelOrderParamsBeet,Jn as cancelUpToInstructionDiscriminator,Je as cancelUpToParamsBeet,Xn as cancelUpToWithFreeFundsInstructionDiscriminator,qn as clockBeet,rr as condensedOrderBeet,fr as confirmOrCreateClaimSeatIxs,Oi as createCancelAllOrdersInstruction,Fi as createCancelAllOrdersWithFreeFundsInstruction,Wi as createCancelMultipleOrdersByIdInstruction,Ei as createCancelMultipleOrdersByIdWithFreeFundsInstruction,vi as createCancelUpToInstruction,Di as createCancelUpToWithFreeFundsInstruction,qu as createClaimSeatInstructions,Ci as createDepositFundsInstruction,jc as createLogInstruction,zi as createPlaceLimitOrderInstruction,Vi as createPlaceLimitOrderWithFreeFundsInstruction,Qi as createPlaceMultiplePostOnlyOrdersInstruction,_i as createPlaceMultiplePostOnlyOrdersWithFreeFundsInstruction,Gi as createReduceOrderInstruction,Zi as createReduceOrderWithFreeFundsInstruction,Hi as createRequestSeatInstruction,Yi as createSwapInstruction,Xi as createSwapWithFreeFundsInstruction,en as createWithdrawFundsInstruction,To as decodePhoenixEvents,eo as depositFundsInstructionDiscriminator,Wr as depositParamsBeet,Ne as deserializeClockData,Ve as deserializeMarketData,Kn as deserializeSeatManagerData,Wo as errorFromCode,Eo as errorFromName,Ur as evictEventBeet,Dr as expiredOrderEventBeet,Rr as feeEventBeet,qr as fillEventBeet,zr as fillSummaryEventBeet,gi as findTraderToEvict,Ti as getBaseAmountFromQuoteAmountBudgetAndBook,cc as getCancelOrderParamsFromL3Order,yi as getClaimSeatIx,wr as getClusterFromEndpoint,lr as getCreateTokenAccountInstructions,lb as getEventsFromTransaction,fi as getEvictSeatIx,xr as getExpectedOutAmountRouter,Ar as getImmediateOrCancelOrderPacket,dc as getLimitOrderNewMakerIxs,sn as getLimitOrderPacket,pc as getLimitOrderUnknownSeatIxs,x as getLogAuthority,Cn as getMakerSetupInstructionsForMarket,gt as getMarketL3Book,hr as getMarketL3UiBook,lc as getMarketLadder,mc as getMarketSwapTransaction,Pr as getMarketUiLadder,En as getOrderSequenceNumberFromL3Order,Ko as getPhoenixEventsFromLogData,rn as getPhoenixEventsFromTransactionData,cb as getPhoenixEventsFromTransactionSignature,on as getPostOnlyOrderPacket,Ki as getQuoteAmountFromBaseAmountBudgetAndBook,Rn as getQuoteUnitsInFromRawBaseUnitsOut,vn as getQuoteUnitsOutFromRawBaseUnitsIn,Dn as getRawBaseUnitsInFromQuoteUnitsOut,Un as getRawBaseUnitsOutFromQuoteUnitsIn,Bi as getRequiredInAmountRouter,qe as getSeatAddress,pi as getSeatDepositCollectorAddress,yr as getSeatManagerAddress,ze as getUiOrderSequenceNumber,is as initializeParamsBeet,ws as isOrderPacketImmediateOrCancel,xs as isOrderPacketLimit,hs as isOrderPacketPostOnly,Js as isPhoenixMarketEventEvict,ea as isPhoenixMarketEventExpiredOrder,Xs as isPhoenixMarketEventFee,Gs as isPhoenixMarketEventFill,Ys as isPhoenixMarketEventFillSummary,js as isPhoenixMarketEventHeader,Zs as isPhoenixMarketEventPlace,Hs as isPhoenixMarketEventReduce,$s as isPhoenixMarketEventTimeInForce,_s as isPhoenixMarketEventUninitialized,bc as levelToUiLevel,Sr as logInstructionDiscriminator,or as marketHeaderBeet,Ye as marketSizeParamsBeet,_r as marketStatusBeet,$e as multipleOrderPacketBeet,H as orderPacketBeet,Bo as phoenixEventsBeet,Jr as phoenixMarketEventBeet,Gr as placeEventBeet,io as placeLimitOrderInstructionDiscriminator,oo as placeLimitOrderWithFreeFundsInstructionDiscriminator,ao as placeMultiplePostOnlyOrdersInstructionDiscriminator,co as placeMultiplePostOnlyOrdersWithFreeFundsInstructionDiscriminator,Ii as printUiLadder,tn as readPublicKey,Zr as reduceEventBeet,bo as reduceOrderInstructionDiscriminator,rt as reduceOrderParamsBeet,po as reduceOrderWithFreeFundsInstructionDiscriminator,fo as requestSeatInstructionDiscriminator,aa as seatApprovalStatusBeet,oa as seatBeet,Mn as seatManagerBeet,sr as selfTradeBehaviorBeet,j as sideBeet,ve as sign,ko as swapInstructionDiscriminator,ho as swapWithFreeFundsInstructionDiscriminator,Hr as timeInForceEventBeet,T as toBN,y as toNum,nr as tokenParamsBeet,wo as withdrawFundsInstructionDiscriminator,$r as withdrawParamsBeet};
