"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.IxFromHex = IxFromHex;
const web3_js_1 = require("@solana/web3.js");
const bs58_1 = __importDefault(require("bs58"));
// Convert object to TransactionInstruction
function IxFromHex(pullIx) {
    const keys = pullIx.keys.map((key) => ({
        ...key,
        pubkey: new web3_js_1.PublicKey(Buffer.from(key.pubkey, "hex")),
    }));
    const programId = new web3_js_1.PublicKey(bs58_1.default.encode(Buffer.from(pullIx.programId, "hex")));
    const data = Buffer.from(pullIx.data, "hex");
    return new web3_js_1.TransactionInstruction({
        keys,
        programId,
        data,
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5zdHJ1Y3Rpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWxzL2luc3RydWN0aW9ucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUlBLDhCQWtCQztBQXRCRCw2Q0FBb0U7QUFDcEUsZ0RBQXdCO0FBRXhCLDJDQUEyQztBQUMzQyxTQUFnQixTQUFTLENBQUMsTUFJekI7SUFDQyxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNyQyxHQUFHLEdBQUc7UUFDTixNQUFNLEVBQUUsSUFBSSxtQkFBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUN0RCxDQUFDLENBQUMsQ0FBQztJQUNKLE1BQU0sU0FBUyxHQUFHLElBQUksbUJBQVMsQ0FDN0IsY0FBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FDbEQsQ0FBQztJQUNGLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM3QyxPQUFPLElBQUksZ0NBQXNCLENBQUM7UUFDaEMsSUFBSTtRQUNKLFNBQVM7UUFDVCxJQUFJO0tBQ0wsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFB1YmxpY0tleSwgVHJhbnNhY3Rpb25JbnN0cnVjdGlvbiB9IGZyb20gXCJAc29sYW5hL3dlYjMuanNcIjtcbmltcG9ydCBiczU4IGZyb20gXCJiczU4XCI7XG5cbi8vIENvbnZlcnQgb2JqZWN0IHRvIFRyYW5zYWN0aW9uSW5zdHJ1Y3Rpb25cbmV4cG9ydCBmdW5jdGlvbiBJeEZyb21IZXgocHVsbEl4OiB7XG4gIGtleXM6IHsgcHVia2V5OiBzdHJpbmc7IGlzU2lnbmVyOiBib29sZWFuOyBpc1dyaXRhYmxlOiBib29sZWFuIH1bXTtcbiAgcHJvZ3JhbUlkOiBzdHJpbmc7XG4gIGRhdGE6IHN0cmluZztcbn0pOiBUcmFuc2FjdGlvbkluc3RydWN0aW9uIHtcbiAgY29uc3Qga2V5cyA9IHB1bGxJeC5rZXlzLm1hcCgoa2V5KSA9PiAoe1xuICAgIC4uLmtleSxcbiAgICBwdWJrZXk6IG5ldyBQdWJsaWNLZXkoQnVmZmVyLmZyb20oa2V5LnB1YmtleSwgXCJoZXhcIikpLFxuICB9KSk7XG4gIGNvbnN0IHByb2dyYW1JZCA9IG5ldyBQdWJsaWNLZXkoXG4gICAgYnM1OC5lbmNvZGUoQnVmZmVyLmZyb20ocHVsbEl4LnByb2dyYW1JZCwgXCJoZXhcIikpXG4gICk7XG4gIGNvbnN0IGRhdGEgPSBCdWZmZXIuZnJvbShwdWxsSXguZGF0YSwgXCJoZXhcIik7XG4gIHJldHVybiBuZXcgVHJhbnNhY3Rpb25JbnN0cnVjdGlvbih7XG4gICAga2V5cyxcbiAgICBwcm9ncmFtSWQsXG4gICAgZGF0YSxcbiAgfSk7XG59XG4iXX0=