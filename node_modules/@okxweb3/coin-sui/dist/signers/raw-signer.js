"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RawSigner = void 0;
const signature_1 = require("../cryptography/signature");
const signer_with_provider_1 = require("./signer-with-provider");
const crypto_lib_1 = require("@okxweb3/crypto-lib");
class RawSigner extends signer_with_provider_1.SignerWithProvider {
    constructor(keypair) {
        super();
        this.keypair = keypair;
    }
    async getAddress() {
        return this.keypair.getPublicKey().toSuiAddress();
    }
    async signData(data) {
        const pubkey = this.keypair.getPublicKey();
        const digest = crypto_lib_1.base.blake2b(data, { dkLen: 32 });
        const signature = this.keypair.signData(digest);
        const signatureScheme = this.keypair.getKeyScheme();
        return (0, signature_1.toSerializedSignature)({
            signatureScheme,
            signature,
            pubKey: pubkey,
        });
    }
}
exports.RawSigner = RawSigner;
//# sourceMappingURL=raw-signer.js.map