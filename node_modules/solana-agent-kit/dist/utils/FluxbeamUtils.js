"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getTokenDecimals = getTokenDecimals;
const spl_token_1 = require("@solana/spl-token");
// handles the case where a token in the pool is a token 2022 token
async function getTokenDecimals(agent, mint) {
    try {
        return (await (0, spl_token_1.getMint)(agent.connection, mint, "finalized", spl_token_1.TOKEN_PROGRAM_ID)).decimals;
    }
    catch (error) {
        try {
            return (await (0, spl_token_1.getMint)(agent.connection, mint, "finalized", spl_token_1.TOKEN_2022_PROGRAM_ID)).decimals;
        }
        catch (finalError) {
            throw new Error(`Failed to fetch mint info for token ${mint.toBase58()}: ${finalError.message}`);
        }
    }
}
//# sourceMappingURL=FluxbeamUtils.js.map